{"version":3,"file":"blocker.lite.js","mappings":"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","sources":["webpack:///../../frontend-packages/headless-content-unblocker/src/events/optInContentBlockerAll.tsx","webpack:///../../frontend-packages/headless-content-unblocker/src/dom/hijackJqueryFn.tsx","webpack:///../../frontend-packages/headless-content-unblocker/src/dom/hijackJQueryEach.tsx","webpack:///../../frontend-packages/headless-content-unblocker/src/dom/initiators/memorizeJQueryEvent.tsx","webpack:///./src/public/ts/others/comp/hijackElementorOnInit.tsx","webpack:///../../frontend-packages/react-cookie-banner/src/inlineStyles/blocker/content.tsx","webpack:///../../frontend-packages/react-cookie-banner/src/inlineStyles/blocker/header.tsx","webpack:///../../frontend-packages/react-cookie-banner/src/components/blocker/header/header.tsx","webpack:///../../frontend-packages/react-cookie-banner/src/inlineStyles/blocker/body.tsx","webpack:///../../frontend-packages/react-cookie-banner/src/inlineStyles/blocker/blocker.tsx","webpack:///../../frontend-packages/react-cookie-banner/src/components/blocker/body/button.tsx","webpack:///../../frontend-packages/react-cookie-banner/src/inlineStyles/blocker/buttons.tsx","webpack:///../../frontend-packages/react-cookie-banner/src/components/blocker/body/body.tsx","webpack:///../../frontend-packages/react-cookie-banner/src/inlineStyles/blocker/groups.tsx","webpack:///../../frontend-packages/react-cookie-banner/src/inlineStyles/blocker/footer.tsx","webpack:///../../frontend-packages/react-cookie-banner/src/components/blocker/footer/footer.tsx","webpack:///../../frontend-packages/react-cookie-banner/src/components/blocker/textContainer.tsx","webpack:///../../frontend-packages/react-cookie-banner/src/hooks/useWaitElementInViewport.tsx","webpack:///../../frontend-packages/react-cookie-banner/src/utils/waitElementInViewport.tsx","webpack:///../../frontend-packages/react-cookie-banner/src/components/blocker/blocker.tsx","webpack:///./src/public/ts/components/websiteBlocker.tsx","webpack:///./src/public/ts/others/applyContentBlocker/adjustConsent.tsx","webpack:///../../frontend-packages/headless-content-unblocker/src/checker/transaction.tsx","webpack:///../../frontend-packages/headless-content-unblocker/src/checker/decideToUnblock.tsx","webpack:///../../frontend-packages/headless-content-unblocker/src/dom/putStyleInlineToDom.tsx","webpack:///../../frontend-packages/headless-content-unblocker/src/dom/transformInlineStyleRules.tsx","webpack:///../../frontend-packages/resolve-none-computed-style/src/calculateScore.tsx","webpack:///../../frontend-packages/resolve-none-computed-style/src/priorityByRule.tsx","webpack:///../../frontend-packages/resolve-none-computed-style/src/iterateRules.tsx","webpack:///../../frontend-packages/resolve-none-computed-style/src/index.tsx","webpack:///../../frontend-packages/resolve-none-computed-style/src/resolveScorePool.tsx","webpack:///../../frontend-packages/resolve-none-computed-style/src/iterateStylesheets.tsx","webpack:///../../frontend-packages/resolve-none-computed-style/src/calculateInlineScore.tsx","webpack:///../../frontend-packages/resolve-none-computed-style/src/sortScores.tsx","webpack:///../../frontend-packages/headless-content-unblocker/src/visual/probablyResetParentContainer.tsx","webpack:///../../frontend-packages/headless-content-unblocker/src/utils/isElementInViewport.tsx","webpack:///../../frontend-packages/headless-content-unblocker/src/visual/findVisualParent.tsx","webpack:///../../frontend-packages/headless-content-unblocker/src/utils/previousVisibleElement.tsx","webpack:///../../frontend-packages/headless-content-unblocker/src/visual/findPreviousVisibleDuplicate.tsx","webpack:///../../frontend-packages/headless-content-unblocker/src/visual/createVisual.tsx","webpack:///../../frontend-packages/headless-content-unblocker/src/visual/createVisualContainer.tsx","webpack:///../../frontend-packages/headless-content-unblocker/src/visual/detectLastClicked.tsx","webpack:///../../frontend-packages/headless-content-unblocker/src/dom/initiators/jQueryReady.tsx","webpack:///../../frontend-packages/headless-content-unblocker/src/dom/initiators/jQueryEvent.tsx","webpack:///../../frontend-packages/headless-content-unblocker/src/dom/initiators/nativeEventListener.tsx","webpack:///../../frontend-packages/headless-content-unblocker/src/dom/initiators/memorizeNativeEvent.tsx","webpack:///../../frontend-packages/headless-content-unblocker/src/dom/initiators/windowOnload.tsx","webpack:///../../frontend-packages/headless-content-unblocker/src/dom/waitSynchronousScripts.tsx","webpack:///../../frontend-packages/headless-content-unblocker/src/dom/ensureScriptWrapper.tsx","webpack:///../../frontend-packages/headless-content-unblocker/src/dom/transformToOriginalAttribute.tsx","webpack:///../../frontend-packages/headless-content-unblocker/src/dom/putScriptInlineToDom.tsx","webpack:///../../frontend-packages/headless-content-unblocker/src/dom/delegateClick.tsx","webpack:///../../frontend-packages/headless-content-unblocker/src/checker/findAndUnblock.tsx","webpack:///../../frontend-packages/headless-content-unblocker/src/watcher.tsx","webpack:///../../frontend-packages/headless-content-unblocker/src/checker/findBlockedNodes.tsx","webpack:///../../frontend-packages/headless-content-unblocker/src/dom/loadVideoSource.tsx","webpack:///./src/public/ts/others/comp/elementorVideoApi.tsx","webpack:///./src/public/ts/blocker.tsx","webpack:///./src/public/ts/others/applyContentBlocker/listenOptIn.tsx","webpack:///./src/public/ts/others/comp/customTriggers.tsx","webpack:///./src/public/ts/others/comp/ratioClassPlainCss.tsx"],"sourcesContent":["/**\n * A content - which was blocked - got unblocked. This event is **not** dispatched\n * for each unblocked content in a \"transaction\", instead it is dispatched\n * when the transaction is complete (all content got unblocked and loaded).\n */\nexport const OPT_IN_CONTENT_BLOCKER_ALL = \"RCB/OptIn/ContentBlocker/All\";","// import $ from \"jquery\"; // not always available\nimport { HTML_ATTRIBUTE_COOKIE_IDS, OPT_IN_CONTENT_BLOCKER_ALL } from \"..\";\nconst ALREADY_OVERWRITTEN_PROPERTY = \"listenOptInJqueryFnForContentBlockerNow\";\n/**\n * Modify a jQuery function to wait for consent if a content blocker is within the\n * given selector.\n */\n\nfunction hijackJqueryFn(fns) {\n  const $ = window.jQuery;\n\n  if (!($ !== null && $ !== void 0 && $.fn)) {\n    return;\n  }\n\n  const jQueryFns = $.fn;\n\n  for (const fn of fns) {\n    const originalFunction = jQueryFns[fn];\n\n    if (!originalFunction) {\n      continue;\n    } // Already overwritten?\n\n\n    const alreadyOverwritten = jQueryFns[ALREADY_OVERWRITTEN_PROPERTY] = jQueryFns[ALREADY_OVERWRITTEN_PROPERTY] || [];\n\n    if (alreadyOverwritten.indexOf(fn) > -1) {\n      continue;\n    }\n\n    alreadyOverwritten.push(fn); // Memorize the static properties (e.g. `jQuery.fn.{fn}.defaults` (https://github.com/marioestrada/jQuery-gMap/blob/33b2771a5789b7531eb56878cfa3e4a0c30a8c43/jquery.gmap.js#L250))\n\n    const staticProps = Object.getOwnPropertyDescriptors(originalFunction);\n    delete staticProps.length;\n    delete staticProps.name;\n    delete staticProps.prototype;\n\n    jQueryFns[fn] = function (...args) {\n      if (this.length) {\n        const notBlockedElements = [];\n\n        for (const element of this.get()) {\n          const blockedElements = Array.prototype.slice.call(element.querySelectorAll(\"[\".concat(HTML_ATTRIBUTE_COOKIE_IDS, \"]\"))); // Also respect own element\n\n          if (element.getAttribute(HTML_ATTRIBUTE_COOKIE_IDS)) {\n            blockedElements.push(element);\n          } // Call original function immediate if no content blocker found\n\n\n          if (blockedElements.length) {\n            // Wait for all unblocked content\n            // TODO: should we also create chunks per `consent-id`?\n            Promise.all(blockedElements.map(node => new Promise(resolve => node.addEventListener(OPT_IN_CONTENT_BLOCKER_ALL, resolve)))).then(() => originalFunction.apply($(element), args));\n          } else {\n            notBlockedElements.push(element);\n          }\n        }\n\n        return originalFunction.apply(jQuery(notBlockedElements), args);\n      } else {\n        // There is no jQuery object passed to the jQuery function. But we need to call the\n        // original function anyway as some properties of e.g. `$.fn.prettyPhoto` can be\n        // lazy loaded and expect a \"first\" call\n        return originalFunction.apply($(this), args);\n      }\n    }; // Apply memorized static properties\n\n\n    Object.defineProperties(jQueryFns[fn], staticProps);\n  }\n}\n\nexport { hijackJqueryFn };","// import $ from \"jquery\"; // not always available\nimport { HTML_ATTRIBUTE_COOKIE_IDS, OPT_IN_CONTENT_BLOCKER_ALL } from \"..\";\nconst ALREADY_OVERWRITTEN_PROPERTY = \"hijackQueryEach\";\n/**\n * Allows to delay `.each` calls on jQuery elements.\n *\n * Example when `div[block-me]` is blocked:\n *\n * ```html\n * <div block-me=\"1\" class=\"my-test\">blocked</div>\n * <div class=\"my-test\">not blocked</div>\n * <script>\n * jQuery(() => {\n *  jQuery(\".my-test\").each((index, element) => {\n *    console.log(index, jQuery(element).html());\n *  });\n * });\n * </script>\n * ```\n *\n * @see https://api.jquery.com/each/\n */\n\nfunction hijackJqueryEach(selectors) {\n  const $ = window.jQuery;\n\n  if (!($ !== null && $ !== void 0 && $.each) || $[ALREADY_OVERWRITTEN_PROPERTY]) {\n    return;\n  }\n\n  $[ALREADY_OVERWRITTEN_PROPERTY] = true;\n  const originalFunction = $.each;\n\n  $.each = (array, callback) => originalFunction.apply($, [array, function (index, element) {\n    if (element instanceof HTMLElement && element.hasAttribute(HTML_ATTRIBUTE_COOKIE_IDS) && element.matches(selectors.join(\",\"))) {\n      // Wait for consent and afterwards, execute the command\n      element.addEventListener(OPT_IN_CONTENT_BLOCKER_ALL, () => callback.apply(this, [index, element]));\n      return undefined;\n    }\n\n    return callback.apply(this, [index, element]);\n  }]);\n}\n\nexport { hijackJqueryEach };","const MEMORIZE_JQUERY_EVENT_PROPERTY = \"rcbJQueryEventListenerMemorize\";\n/**\n * We listen to the passed event and once that event got triggered, all event registrations\n * afterwards are automatically executed, too. This does not need another trigger again.\n *\n * You need to call this function as early as possible to catch all triggers.\n */\n\nfunction memorizeJQueryEvent(doc, element, eventName) {\n  const memorizeProp = \"\".concat(MEMORIZE_JQUERY_EVENT_PROPERTY, \"_\").concat(eventName);\n  const {\n    jQuery\n  } = doc.defaultView || doc.parentWindow;\n\n  if (!jQuery) {\n    return;\n  }\n\n  const {\n    event,\n    Event\n  } = jQuery;\n\n  if (!event || !Event || event[memorizeProp]) {\n    return;\n  } // TODO: shouldn't this be memorized to the element itself?\n\n\n  Object.assign(event, {\n    [memorizeProp]: new Promise(resolve => jQuery(element).on(eventName, (...args) => resolve(args)))\n  });\n}\n\nexport { memorizeJQueryEvent, MEMORIZE_JQUERY_EVENT_PROPERTY };","import { OPT_IN_CONTENT_BLOCKER_ALL, OPT_IN_CONTENT_BLOCKER, HTML_ATTRIBUTE_BLOCKER_ID } from \"@devowl-wp/headless-content-unblocker\";\nconst MEMORIZE_ELEMENTOR_HANDLER_PROPERTY = \"rcb-overwritten\";\n\nfunction overwrite(prototype, {\n  delay,\n  optIn,\n  optInAll\n}) {\n  const {\n    onInit,\n    [MEMORIZE_ELEMENTOR_HANDLER_PROPERTY]: already\n  } = prototype;\n\n  if (already) {\n    return;\n  }\n\n  prototype[MEMORIZE_ELEMENTOR_HANDLER_PROPERTY] = true; // `onInit` is called for each element, event it is blocked\n\n  prototype.onInit = function (...args) {\n    const $element = this.$element;\n    const element = $element.get(0);\n\n    if ($element.attr(HTML_ATTRIBUTE_BLOCKER_ID)) {\n      $element.attr(MEMORIZE_ELEMENTOR_HANDLER_PROPERTY, \"1\");\n      element.addEventListener(OPT_IN_CONTENT_BLOCKER, ({\n        detail\n      }) => {\n        optIn === null || optIn === void 0 ? void 0 : optIn($element, detail, this);\n      });\n      element.addEventListener(OPT_IN_CONTENT_BLOCKER_ALL, ({\n        detail\n      }) => {\n        optInAll === null || optInAll === void 0 ? void 0 : optInAll($element, detail, this);\n        setTimeout(() => onInit.apply(this, args), delay || 0);\n      });\n    } else {\n      return onInit.apply(this, args);\n    }\n  };\n}\n/**\n * Overwrite Elementor modules and wait until consent is given for blocked module.\n * Passed `handlers` can be widget names like `video.default` or class names `VideoPlaylistHandler`\n * for dynamic modules.\n */\n\n\nfunction hijackElementorOnInit(handlers) {\n  window.addEventListener(\"elementor/frontend/init\", async () => {\n    const {\n      elementorFrontend: {\n        elementsHandler\n      }\n    } = window;\n\n    for (const handler of handlers) {\n      // Let's try to hijack `addHandler` for dynamic modules\n      const originalAddHandler = elementsHandler.addHandler;\n\n      elementsHandler.addHandler = function (handlerClass, ...rest) {\n        if (handlerClass.name === handler.className) {\n          overwrite(handlerClass.prototype, handler);\n        }\n\n        return originalAddHandler.apply(this, [handlerClass, ...rest]);\n      };\n    }\n  });\n}\n\nexport { hijackElementorOnInit, MEMORIZE_ELEMENTOR_HANDLER_PROPERTY };","class BlockerContentInlineStyles {\n  static inner({\n    layout: {\n      type,\n      dialogBorderRadius\n    },\n    design: {\n      borderWidth,\n      borderColor,\n      textAlign,\n      fontColor,\n      fontInheritFamily,\n      fontFamily\n    },\n    customCss: {\n      antiAdBlocker\n    },\n    blocker: {\n      visualType\n    }\n  }) {\n    const hasBg = visualType === \"wrapped\";\n    const style = {\n      textAlign,\n      fontFamily: fontInheritFamily ? undefined : fontFamily,\n      color: fontColor,\n      // margin: \"10px 0\",\n      borderRadius: type === \"dialog\" ? +dialogBorderRadius : undefined,\n      border: type === \"banner\" ? borderWidth > 0 ? \"\".concat(borderWidth, \"px solid \").concat(borderColor) : undefined : undefined,\n      position: \"relative\",\n      padding: hasBg ? \"30px 50px\" : undefined,\n      overflow: hasBg ? \"hidden\" : undefined\n    };\n    return {\n      className: \"wp-exclude-emoji \".concat(antiAdBlocker === \"y\" ? \"\" : \"rcb-inner\"),\n      style\n    };\n  }\n\n  static innerBackground({\n    customCss: {\n      antiAdBlocker\n    },\n    blocker: {\n      visualType,\n      visualThumbnail,\n      visualBlur\n    }\n  }) {\n    const hasBg = visualType === \"wrapped\";\n    const style = {\n      position: \"absolute\",\n      top: 0,\n      left: 0,\n      right: 0,\n      bottom: 0,\n      display: hasBg ? \"block\" : \"none\",\n      filter: visualBlur > 0 ? \"blur(\".concat(visualBlur, \"px)\") : undefined\n    };\n\n    if (hasBg) {\n      style.background = \"url('\".concat(visualThumbnail.url, \"') no-repeat center center\");\n      style.backgroundSize = \"cover\";\n    }\n\n    return {\n      className: antiAdBlocker === \"y\" ? \"\" : \"rcb-inner-bg\",\n      style\n    };\n  }\n\n  static content({\n    blocker: {\n      visualType\n    },\n    customCss: {\n      antiAdBlocker\n    }\n  }) {\n    return {\n      className: antiAdBlocker === \"y\" ? undefined : \"rcb-content\",\n      style: {\n        boxShadow: visualType === \"wrapped\" ? \"rgb(0 0 0 / 35%) 0px 0px 0px 7px, #0000004d 0px 0px 100px 30px\" : undefined,\n        position: \"relative\"\n      }\n    };\n  }\n\n}\n\nexport { BlockerContentInlineStyles };","class BlockerHeaderInlineStyles {\n  static headerContainer({\n    layout: {\n      type,\n      dialogBorderRadius\n    },\n    design: {\n      borderWidth,\n      borderColor,\n      ...restDesign\n    },\n    headerDesign: {\n      inheritBg,\n      bg,\n      padding\n    },\n    customCss: {\n      antiAdBlocker\n    }\n  }) {\n    const style = {\n      padding: padding.map(p => \"\".concat(p, \"px\")).join(\" \"),\n      background: inheritBg ? restDesign.bg : bg,\n      borderRadius: type === \"dialog\" ? \"\".concat(dialogBorderRadius, \"px \").concat(dialogBorderRadius, \"px 0 0\") : undefined\n    };\n\n    if (type === \"dialog\" && borderWidth > 0) {\n      style.borderTop = \"\".concat(borderWidth, \"px solid \").concat(borderColor);\n      style.borderLeft = style.borderTop;\n      style.borderRight = style.borderTop;\n    }\n\n    return {\n      className: antiAdBlocker === \"y\" ? undefined : \"rcb-header-container\",\n      style\n    };\n  }\n\n  static header({\n    design: {\n      textAlign\n    },\n    headerDesign: {\n      inheritTextAlign,\n      ...restHeaderDesign\n    },\n    customCss: {\n      antiAdBlocker\n    }\n  }) {\n    const useTextAlign = inheritTextAlign ? textAlign : restHeaderDesign.textAlign;\n    return {\n      className: antiAdBlocker === \"y\" ? undefined : \"rcb-header\",\n      style: {\n        margin: \"auto\",\n        display: \"flex\",\n        justifyContent: useTextAlign === \"center\" ? \"center\" : useTextAlign === \"right\" ? \"flex-end\" : undefined,\n        alignItems: \"center\",\n        position: \"relative\"\n      }\n    };\n  }\n\n  static headerSeparator({\n    layout: {\n      type\n    },\n    design,\n    headerDesign: {\n      borderWidth,\n      borderColor\n    },\n    customCss: {\n      antiAdBlocker\n    }\n  }) {\n    const style = {\n      height: +borderWidth,\n      background: borderColor\n    };\n\n    if (type === \"dialog\" && design.borderWidth > 0) {\n      style.borderLeft = \"\".concat(design.borderWidth, \"px solid \").concat(design.borderColor);\n      style.borderRight = style.borderLeft;\n    }\n\n    return {\n      className: antiAdBlocker === \"y\" ? undefined : \"rcb-header-separator\",\n      style\n    };\n  }\n\n}\n\nexport { BlockerHeaderInlineStyles };","import { commonInlineStyleHeaderHeadline, useBlocker, BlockerHeaderInlineStyles } from \"../../..\";\n\nconst BlockerHeader = ({\n  closeIcon\n}) => {\n  const blocker = useBlocker();\n  const {\n    blocker: {\n      name\n    },\n    texts: {\n      blockerHeadline\n    }\n  } = blocker;\n  return h(\"div\", BlockerHeaderInlineStyles.headerContainer(blocker), h(\"div\", BlockerHeaderInlineStyles.header(blocker), h(\"div\", commonInlineStyleHeaderHeadline(blocker, !!closeIcon), blockerHeadline.replace(/{{name}}/gi, name)), closeIcon));\n};\n\nexport { BlockerHeader };","class BlockerBodyInlineStyles {\n  static bodyContainer({\n    layout: {\n      type,\n      dialogBorderRadius\n    },\n    design: {\n      bg,\n      borderWidth,\n      borderColor\n    },\n    bodyDesign: {\n      padding\n    },\n    customCss: {\n      antiAdBlocker\n    },\n    showFooter\n  }) {\n    const style = {\n      background: bg,\n      padding: padding.map(p => \"\".concat(p, \"px\")).join(\" \"),\n      borderRadius: !showFooter && type === \"dialog\" ? \"0 0 \".concat(dialogBorderRadius, \"px \").concat(dialogBorderRadius, \"px\") : undefined,\n      lineHeight: 1.4,\n      overflow: \"auto\" // See https://stackoverflow.com/a/27829422/5506547\n\n    };\n\n    if (type === \"dialog\" && borderWidth > 0) {\n      style.borderLeft = \"\".concat(borderWidth, \"px solid \").concat(borderColor);\n      style.borderRight = style.borderLeft;\n\n      if (!showFooter) {\n        style.borderBottom = style.borderLeft;\n      }\n    }\n\n    return {\n      className: antiAdBlocker === \"y\" ? undefined : \"rcb-body-container\",\n      style\n    };\n  }\n\n  static body({\n    customCss: {\n      antiAdBlocker\n    }\n  }) {\n    const style = {\n      margin: \"auto\"\n    };\n    return {\n      className: antiAdBlocker === \"y\" ? undefined : \"rcb-body\",\n      style\n    };\n  }\n\n  static description({\n    design: {\n      fontSize\n    },\n    bodyDesign: {\n      descriptionInheritFontSize,\n      descriptionFontSize\n    },\n    individualLayout: {\n      descriptionTextAlign\n    },\n    customCss: {\n      antiAdBlocker\n    }\n  }) {\n    return {\n      className: antiAdBlocker === \"y\" ? undefined : \"rcb-description\",\n      style: {\n        marginBottom: 10,\n        fontSize: descriptionInheritFontSize ? +fontSize : +descriptionFontSize,\n        textAlign: descriptionTextAlign\n      }\n    };\n  }\n\n}\n\nexport { BlockerBodyInlineStyles };","class BlockerInlineStyles {\n  static topSide({\n    customCss: {\n      antiAdBlocker\n    }\n  }) {\n    const style = {\n      marginBottom: 15\n    };\n    return {\n      className: antiAdBlocker === \"y\" ? undefined : \"rcb-tb-top\",\n      style\n    };\n  }\n\n  static bottomSide({\n    design: {\n      bg\n    },\n    customCss: {\n      antiAdBlocker\n    }\n  }) {\n    const style = {\n      background: bg\n    };\n    return {\n      className: antiAdBlocker === \"y\" ? undefined : \"rcb-tb-bottom\",\n      style\n    };\n  }\n\n}\n\nexport { BlockerInlineStyles };","import _extends from \"@babel/runtime/helpers/extends\";\nimport { useCallback, useState } from \"react\";\nimport { useBlocker, AsciiSpinner, BlockerButtonsInlineStyles } from \"../../..\";\n\nconst BlockerButton = ({\n  inlineStyle,\n  type,\n  onClick,\n  children,\n  framed,\n  busyOnClick\n}) => {\n  if (type === \"hide\") {\n    return null;\n  }\n\n  const [isBusy, setIsBusy] = useState(false);\n  const handleOnClick = useCallback(e => {\n    if (!isBusy) {\n      busyOnClick && setIsBusy(true);\n      onClick === null || onClick === void 0 ? void 0 : onClick(e);\n    }\n  }, [onClick, isBusy, busyOnClick]);\n  const [isHover, setIsHover] = useState(false);\n  const banner = useBlocker();\n  const interactionAttr = {\n    onClick: handleOnClick,\n    onMouseEnter: () => setIsHover(true),\n    onMouseLeave: () => setIsHover(false)\n  };\n  return h(\"div\", _extends({}, type === \"button\" ? interactionAttr : {}, BlockerButtonsInlineStyles[inlineStyle](banner, isHover, framed)), h(\"span\", type === \"link\" ? { ...interactionAttr,\n    style: {\n      cursor: \"pointer\"\n    }\n  } : {}, isBusy ? h(AsciiSpinner, null) : children));\n};\n\nexport { BlockerButton };","class BlockerButtonsInlineStyles {\n  static save({\n    decision: {\n      acceptAll\n    },\n    layout: {\n      borderRadius\n    },\n    bodyDesign: {\n      acceptAllFontSize,\n      acceptAllBg,\n      acceptAllTextAlign,\n      acceptAllBorderColor,\n      acceptAllPadding,\n      acceptAllBorderWidth,\n      acceptAllFontColor,\n      acceptAllHoverBg,\n      acceptAllHoverFontColor,\n      acceptAllHoverBorderColor\n    },\n    customCss: {\n      antiAdBlocker\n    }\n  }, isHover, framed) {\n    return this.common({\n      name: \"accept-all\",\n      type: acceptAll,\n      borderRadius,\n      bg: acceptAllBg,\n      hoverBg: acceptAllHoverBg,\n      fontSize: acceptAllFontSize,\n      textAlign: acceptAllTextAlign,\n      fontColor: acceptAllFontColor,\n      hoverFontColor: acceptAllHoverFontColor,\n      borderWidth: acceptAllBorderWidth,\n      borderColor: acceptAllBorderColor,\n      hoverBorderColor: acceptAllHoverBorderColor,\n      padding: acceptAllPadding,\n      antiAdBlocker\n    }, isHover, framed);\n  }\n\n  static showInfo({\n    decision: {\n      acceptIndividual\n    },\n    layout: {\n      borderRadius\n    },\n    bodyDesign: {\n      acceptIndividualFontSize,\n      acceptIndividualBg,\n      acceptIndividualTextAlign,\n      acceptIndividualBorderColor,\n      acceptIndividualPadding,\n      acceptIndividualBorderWidth,\n      acceptIndividualFontColor,\n      acceptIndividualHoverBg,\n      acceptIndividualHoverFontColor,\n      acceptIndividualHoverBorderColor\n    },\n    customCss: {\n      antiAdBlocker\n    }\n  }, isHover, framed) {\n    return this.common({\n      name: \"accept-individual\",\n      type: acceptIndividual,\n      borderRadius,\n      bg: acceptIndividualBg,\n      hoverBg: acceptIndividualHoverBg,\n      fontSize: acceptIndividualFontSize,\n      textAlign: acceptIndividualTextAlign,\n      fontColor: acceptIndividualFontColor,\n      hoverFontColor: acceptIndividualHoverFontColor,\n      borderWidth: acceptIndividualBorderWidth,\n      borderColor: acceptIndividualBorderColor,\n      hoverBorderColor: acceptIndividualHoverBorderColor,\n      padding: acceptIndividualPadding,\n      antiAdBlocker\n    }, isHover, framed);\n  }\n\n  static hero({\n    decision: {\n      acceptAll\n    },\n    layout: {\n      borderRadius\n    },\n    bodyDesign: {\n      acceptAllFontSize,\n      acceptAllBg,\n      acceptAllTextAlign,\n      acceptAllBorderColor,\n      acceptAllPadding,\n      acceptAllBorderWidth,\n      acceptAllFontColor,\n      acceptAllHoverBg,\n      acceptAllHoverFontColor,\n      acceptAllHoverBorderColor\n    },\n    customCss: {\n      antiAdBlocker\n    }\n  }, isHover, framed) {\n    return this.common({\n      name: \"accept-all\",\n      type: acceptAll,\n      borderRadius,\n      bg: acceptAllBg,\n      hoverBg: acceptAllHoverBg,\n      fontSize: acceptAllFontSize,\n      textAlign: acceptAllTextAlign,\n      fontColor: acceptAllFontColor,\n      hoverFontColor: acceptAllHoverFontColor,\n      borderWidth: acceptAllBorderWidth,\n      borderColor: acceptAllBorderColor,\n      hoverBorderColor: acceptAllHoverBorderColor,\n      padding: acceptAllPadding,\n      boxShadow: \"rgb(0 0 0 / 15%) 0px 0px 100px 30px, rgb(0 0 0 / 40%) 0px 2px 5px 1px\",\n      zIndex: 9,\n      antiAdBlocker\n    }, isHover, framed);\n  }\n\n  static common({\n    name,\n    type,\n    borderRadius,\n    bg,\n    hoverBg,\n    fontSize,\n    textAlign,\n    fontColor,\n    hoverFontColor,\n    borderWidth,\n    borderColor,\n    hoverBorderColor,\n    padding,\n    boxShadow,\n    zIndex,\n    antiAdBlocker\n  }, isHover, framed) {\n    const style = {\n      textDecoration: type === \"link\" ? \"underline\" : \"none\",\n      borderRadius: +borderRadius,\n      cursor: type === \"button\" ? \"pointer\" : undefined,\n      backgroundColor: type === \"button\" ? isHover ? hoverBg : bg : undefined,\n      fontSize: +fontSize,\n      textAlign,\n      color: isHover ? hoverFontColor : fontColor,\n      transition: \"background-color 250ms, color 250ms, border-color 250ms\",\n      marginBottom: 10,\n      border: type === \"button\" && borderWidth > 0 ? \"\".concat(borderWidth, \"px solid \").concat(isHover ? hoverBorderColor : borderColor) : undefined,\n      padding: padding.map(p => \"\".concat(p, \"px\")).join(\" \"),\n      overflow: \"hidden\",\n      outline: framed ? \"rgb(255, 94, 94) solid 5px\" : undefined,\n      boxShadow,\n      zIndex\n    };\n    return {\n      className: antiAdBlocker === \"y\" ? undefined : \"rcb-btn-\".concat(name),\n      style\n    };\n  }\n\n}\n\nexport { BlockerButtonsInlineStyles };","import _extends from \"@babel/runtime/helpers/extends\";\nimport { useState, useMemo } from \"react\";\nimport { commonInlineStyleBodyTeaching, commonInlineStyleBodyTeachingsSeparator, Cookie, useBlocker, useCommonTeachings, BlockerInlineStyles, BlockerBodyInlineStyles, BlockerGroupsInlineStyles, BlockerButton } from \"../../..\";\n\nconst BlockerBody = () => {\n  const blocker = useBlocker();\n  const [areCookiesVisible, setCookiesVisible] = useState(false);\n  const {\n    bodyDesign: {\n      teachingsSeparatorActive\n    },\n    decision: {\n      acceptAll,\n      acceptIndividual\n    },\n    texts: {\n      blockerLoadButton,\n      blockerLinkShowMissing,\n      blockerAcceptInfo\n    },\n    blocker: {\n      services\n    },\n    consent,\n    groups,\n    onUnblock,\n    productionNotice,\n    i18n: {\n      close\n    }\n  } = blocker; // Calculate missing cookies\n\n  const missing = useMemo(() => {\n    const missing = [];\n    const allConsentCookies = [];\n\n    for (const cookies of Object.values(consent.groups)) {\n      allConsentCookies.push(...cookies);\n    }\n\n    for (const {\n      items\n    } of groups) {\n      for (const cookie of items) {\n        // Cookie is needed for this blocker? Yes, check if already consent...\n        if (services.indexOf(cookie.id) > -1 && allConsentCookies.indexOf(cookie.id) === -1) {\n          missing.push(cookie);\n        }\n      }\n    }\n\n    return missing;\n  }, [groups, services, consent]);\n  const {\n    description,\n    teachings\n  } = useCommonTeachings({\n    // Only enable USA notice when the blocked service is USA-relevant\n    disableDataProcessingInUnsafeCountries: missing.map(({\n      ePrivacyUSA\n    }) => ePrivacyUSA).filter(Boolean).length === 0,\n    // Not needed in blocker, as there is already a link with \"Show all services which I need to consent to\"\n    disableListServicesNotice: true\n  });\n  return h(\"div\", BlockerBodyInlineStyles.bodyContainer(blocker), h(\"div\", BlockerBodyInlineStyles.body(blocker), h(\"div\", BlockerInlineStyles.topSide(blocker), h(\"div\", BlockerBodyInlineStyles.description(blocker), h(\"span\", {\n    dangerouslySetInnerHTML: {\n      __html: description.replace(/\\n/gm, \"<br />\")\n    }\n  }), !!description && teachingsSeparatorActive && h(\"div\", null, h(\"span\", commonInlineStyleBodyTeachingsSeparator(blocker))), teachings.map(teaching => h(\"span\", _extends({\n    key: teaching\n  }, commonInlineStyleBodyTeaching(blocker), {\n    dangerouslySetInnerHTML: {\n      __html: teaching\n    }\n  }))), h(\"span\", _extends({}, commonInlineStyleBodyTeaching(blocker), {\n    dangerouslySetInnerHTML: {\n      __html: blockerAcceptInfo\n    }\n  }))), h(BlockerButton, {\n    type: acceptIndividual === \"hide\" ? \"link\" : acceptIndividual,\n    inlineStyle: \"showInfo\",\n    onClick: () => setCookiesVisible(!areCookiesVisible)\n  }, areCookiesVisible ? close : blockerLinkShowMissing), areCookiesVisible && h(\"div\", BlockerGroupsInlineStyles.cookieScroll(blocker), missing.map(cookie => h(Cookie, {\n    key: cookie.id,\n    cookie: cookie,\n    checked: true,\n    disabled: true\n  })))), h(\"div\", BlockerInlineStyles.bottomSide(blocker), h(BlockerButton, {\n    type: acceptAll === \"hide\" ? \"button\" : acceptAll,\n    inlineStyle: \"save\",\n    onClick: e => onUnblock(e),\n    busyOnClick: true\n  }, blockerLoadButton), productionNotice)));\n};\n\nexport { BlockerBody };","class BlockerGroupsInlineStyles {\n  static cookieScroll({\n    design: {\n      fontSize\n    },\n    bodyDesign: {\n      descriptionInheritFontSize,\n      descriptionFontSize\n    },\n    customCss: {\n      antiAdBlocker\n    }\n  }) {\n    return {\n      className: antiAdBlocker === \"y\" ? undefined : \"rcb-cookie-scroll\",\n      style: {\n        fontSize: descriptionInheritFontSize ? +fontSize : +descriptionFontSize,\n        textAlign: \"left\",\n        marginBottom: 10,\n        maxHeight: 400,\n        overflowY: \"scroll\",\n        paddingRight: 10\n      }\n    };\n  }\n\n}\n\nexport { BlockerGroupsInlineStyles };","class BlockerFooterInlineStyles {\n  static footerContainer({\n    layout: {\n      type,\n      dialogBorderRadius\n    },\n    design,\n    footerDesign: {\n      inheritBg,\n      bg,\n      inheritTextAlign,\n      textAlign,\n      padding,\n      fontSize,\n      fontColor\n    },\n    customCss: {\n      antiAdBlocker\n    }\n  }) {\n    const style = {\n      padding: padding.map(p => \"\".concat(p, \"px\")).join(\" \"),\n      background: inheritBg ? design.bg : bg,\n      borderRadius: type === \"dialog\" ? \"0 0 \".concat(dialogBorderRadius, \"px \").concat(dialogBorderRadius, \"px\") : undefined,\n      fontSize: +fontSize,\n      color: fontColor,\n      textAlign: inheritTextAlign ? design.textAlign : textAlign\n    };\n\n    if (type === \"dialog\" && design.borderWidth > 0) {\n      style.borderBottom = \"\".concat(design.borderWidth, \"px solid \").concat(design.borderColor);\n      style.borderLeft = style.borderBottom;\n      style.borderRight = style.borderBottom;\n    }\n\n    return {\n      className: antiAdBlocker === \"y\" ? undefined : \"rcb-footer-container\",\n      style\n    };\n  }\n\n  static footer({\n    customCss: {\n      antiAdBlocker\n    }\n  }) {\n    const style = {\n      margin: \"auto\",\n      lineHeight: 1.8\n    };\n    return {\n      className: antiAdBlocker === \"y\" ? undefined : \"rcb-footer\",\n      style\n    };\n  }\n\n  static footerSeparator({\n    layout: {\n      type\n    },\n    design,\n    footerDesign: {\n      borderWidth,\n      borderColor\n    },\n    customCss: {\n      antiAdBlocker\n    }\n  }) {\n    const style = {\n      height: +borderWidth,\n      background: borderColor\n    };\n\n    if (type === \"dialog\" && design.borderWidth > 0) {\n      style.borderLeft = \"\".concat(design.borderWidth, \"px solid \").concat(design.borderColor);\n      style.borderRight = style.borderLeft;\n    }\n\n    return {\n      className: antiAdBlocker === \"y\" ? undefined : \"rcb-footer-separator\",\n      style\n    };\n  }\n\n}\n\nexport { BlockerFooterInlineStyles };","import { useBlocker, useCommonFooterLinks, BlockerFooterInlineStyles } from \"../../..\";\n\nconst BlockerFooter = () => {\n  const blocker = useBlocker();\n  const {\n    rows: links,\n    render: renderLinks\n  } = useCommonFooterLinks({\n    putPoweredByLinkInRow: 1\n  });\n  return h(\"div\", BlockerFooterInlineStyles.footerContainer(blocker), h(\"div\", BlockerFooterInlineStyles.footer(blocker), renderLinks(links)));\n};\n\nexport { BlockerFooter };","import _extends from \"@babel/runtime/helpers/extends\";\nimport { useBlocker, BlockerContentInlineStyles, BlockerHeaderInlineStyles, BlockerFooterInlineStyles, BlockerHeader, BlockerFooter, BlockerBody, useWaitElementInViewport } from \"../../..\";\nimport { useRef, Fragment } from \"react\";\n\nconst BlockerTextContainer = ({\n  closeIcon\n}) => {\n  const blocker = useBlocker();\n  const {\n    showFooter,\n    paintMode\n  } = blocker;\n  const ref = useRef(); // Lazy load background image\n\n  const isBackgroundVisible = paintMode === \"instantInViewport\" || useWaitElementInViewport(ref);\n  return h(\"div\", _extends({}, BlockerContentInlineStyles.inner(blocker), {\n    ref: ref\n  }), isBackgroundVisible && h(\"div\", BlockerContentInlineStyles.innerBackground(blocker)), h(\"div\", BlockerContentInlineStyles.content(blocker), h(BlockerHeader, {\n    closeIcon: closeIcon\n  }), h(\"div\", BlockerHeaderInlineStyles.headerSeparator(blocker)), h(BlockerBody, null), !!showFooter && h(Fragment, null, h(\"div\", BlockerFooterInlineStyles.footerSeparator(blocker)), h(BlockerFooter, null))));\n};\n\nexport { BlockerTextContainer };","import { useEffect, useState } from \"react\";\nimport { waitElementInViewport } from \"../utils\";\n\nfunction useWaitElementInViewport(ref) {\n  const [inViewport, setInViewport] = useState(false);\n  useEffect(() => {\n    if (ref.current) {\n      waitElementInViewport(ref.current).then(() => {\n        setInViewport(true);\n      });\n    }\n  }, []);\n  return inViewport;\n}\n\nexport { useWaitElementInViewport };","/**\n * Attention: Never use this with `async/await` as it blocks the thread!\n */\nfunction waitElementInViewport(container) {\n  return new Promise(resolve => {\n    if (window.IntersectionObserver) {\n      new IntersectionObserver((entries, observer) => {\n        entries.forEach(({\n          isIntersecting\n        }) => {\n          if (isIntersecting) {\n            resolve();\n            observer.disconnect();\n          }\n        });\n      }).observe(container);\n    } else {\n      resolve();\n    }\n  });\n}\n\nexport { waitElementInViewport };","import { BlockerTextContainer, useBlocker } from \"../..\";\n\nconst Blocker = () => {\n  const blocker = useBlocker();\n  const {\n    blocker: {\n      visualType,\n      visualThumbnail\n    }\n  } = blocker;\n\n  if (process.env.PLUGIN_CTX === \"pro\") {\n    /* Silence is golden... Until you have PRO Version! */\n  } else {\n    return h(BlockerTextContainer, null);\n  }\n};\n\nexport { Blocker };","import { useState } from \"react\";\nimport { getOtherOptionsFromWindow } from \"../utils\";\nimport { adjustConsentComingFromContentBlocker } from \"../others\";\nimport { HTML_ATTRIBUTE_COOKIE_IDS } from \"@devowl-wp/headless-content-unblocker\";\nimport { getUserDecision } from \"@devowl-wp/cookie-consent-web-client\";\nimport { usePlainCss, BlockerContextFactory, Blocker } from \"@devowl-wp/react-cookie-banner\";\nimport { BannerProductionNotice } from \".\";\n/**\n * Simply connects a context store to the blocker itself. On the website itself\n * it should not rely\n */\n\nconst WebsiteBlocker = ({\n  poweredLink,\n  blocker,\n  paintMode,\n  setVisualAsLastClickedVisual\n}) => {\n  const {\n    customizeValuesBanner: {\n      layout,\n      decision,\n      legal,\n      design,\n      headerDesign,\n      bodyDesign,\n      footerDesign,\n      texts,\n      individualLayout,\n      saveButton,\n      group,\n      individualTexts,\n      customCss\n    },\n    pageIdToPermalink,\n    consentForwardingExternalHosts,\n    isTcf,\n    isEPrivacyUSA,\n    isAgeNotice,\n    isListServicesNotice,\n    groups,\n    userConsentCookieName,\n    bannerI18n,\n    affiliate,\n    isCurrentlyInTranslationEditorPreview,\n    pageByIdUrl\n  } = getOtherOptionsFromWindow();\n  const userDecision = getUserDecision(userConsentCookieName); // Calculate a border color for the complete box as the standard box does not have one configured\n\n  const overwriteDesign = {\n    borderWidth: design.borderWidth || 1,\n    borderColor: design.borderWidth === 0 ? headerDesign.borderWidth > 0 ? headerDesign.borderColor : footerDesign.borderWidth > 0 ? footerDesign.borderColor : design.fontColor : design.borderColor\n  }; // Context values preparation\n\n  const [contextValue] = useState({\n    layout: { ...layout\n    },\n    decision: { ...decision\n    },\n    legal: { ...legal\n    },\n    design: { ...design,\n      ...overwriteDesign\n    },\n    headerDesign: { ...headerDesign\n    },\n    bodyDesign: { ...bodyDesign\n    },\n    footerDesign: { ...footerDesign\n    },\n    texts: { ...texts\n    },\n    individualLayout: { ...individualLayout\n    },\n    saveButton: { ...saveButton\n    },\n    group: { ...group\n    },\n    individualTexts: { ...individualTexts\n    },\n    customCss: { ...customCss\n    },\n    productionNotice: h(BannerProductionNotice, null),\n    pageIdToPermalink,\n    consentForwardingExternalHosts,\n    paintMode,\n    pageByIdUrl,\n    groups,\n    poweredLink,\n    isTcf,\n    ePrivacyUSA: isEPrivacyUSA,\n    ageNotice: isAgeNotice,\n    listServicesNotice: isListServicesNotice,\n    blocker,\n    i18n: bannerI18n,\n    keepVariablesInTexts: isCurrentlyInTranslationEditorPreview,\n    affiliate,\n    consent: {\n      groups: { ...(userDecision === false ? {} : userDecision.consent)\n      }\n    },\n    onUnblock: event => {\n      adjustConsentComingFromContentBlocker(blocker);\n      setVisualAsLastClickedVisual(event);\n    }\n  });\n  usePlainCss([\".elementor-background-overlay ~ [\".concat(HTML_ATTRIBUTE_COOKIE_IDS, \"] { z-index: 99; }\")].join(\"\"));\n  const BlockerContext = BlockerContextFactory.Context();\n  return h(BlockerContext.Provider, {\n    value: contextValue\n  }, h(Blocker, null));\n};\n\nexport { WebsiteBlocker };","import { getOtherOptionsFromWindow } from \"../../utils\";\nimport { applyConsent } from \"../applyConsent\";\nimport { createTcfModelFromCookie, getUserDecision } from \"@devowl-wp/cookie-consent-web-client\";\nimport { getCookieConsentManager } from \"..\";\n\n/**\n * When a content blocker needs to be unblocked (user click), then\n * we need to get the current consent, and add the newly consent cookies.\n */\nasync function adjustConsentComingFromContentBlocker(blocker) {\n  // Get all available groups + current decision\n  const {\n    essentialGroup,\n    groups,\n    isTcf,\n    tcf,\n    tcfMetadata,\n    userConsentCookieName\n  } = getOtherOptionsFromWindow();\n  const {\n    id: blockerId,\n    services,\n    visualThumbnail\n  } = blocker;\n  const currentDecision = getUserDecision(userConsentCookieName);\n  const [essentialGroupObj] = groups.filter(({\n    slug\n  }) => slug === essentialGroup); // Prepare new consent\n\n  const newConsent = currentDecision === false ? {\n    // The website owner uses a banner without overlay and content gets unblocked\n    // We need to make sure, that also essential cookies got accepted\n    groups: {\n      [essentialGroupObj.id]: essentialGroupObj.items.map(({\n        id\n      }) => id)\n    }\n  } : {\n    groups: currentDecision.consent\n  };\n\n  for (const {\n    id: groupId,\n    items\n  } of groups) {\n    for (const {\n      id: cookieId\n    } of items) {\n      if (services.indexOf(cookieId) > -1) {\n        var _newConsent$groups$gr;\n\n        // Avoid duplicates\n        if (((_newConsent$groups$gr = newConsent.groups[groupId]) === null || _newConsent$groups$gr === void 0 ? void 0 : _newConsent$groups$gr.indexOf(cookieId)) > -1) {\n          continue;\n        }\n\n        newConsent.groups[groupId] = newConsent.groups[groupId] || [];\n        newConsent.groups[groupId].push(cookieId);\n      }\n    }\n  } // Keep TCF string as it is not touched for a content blocker\n\n\n  let tcfString;\n\n  if (process.env.IS_TCF === \"1\" && isTcf) {\n    var _createTcfModelFromCo;\n\n    tcfString = (_createTcfModelFromCo = createTcfModelFromCookie(tcf, tcfMetadata, getCookieConsentManager().getOption(\"tcfCookieName\"))) === null || _createTcfModelFromCo === void 0 ? void 0 : _createTcfModelFromCo.tcfString;\n  }\n\n  await applyConsent({\n    consent: newConsent,\n    buttonClicked: \"unblock\",\n    blocker: blockerId,\n    blockerThumbnail: visualThumbnail !== null && visualThumbnail !== void 0 && visualThumbnail.embedId ? \"\".concat(visualThumbnail.embedId, \"-\").concat(visualThumbnail.fileMd5) : undefined,\n    tcfString\n  });\n}\n\nexport { adjustConsentComingFromContentBlocker };","let currentlyInTransaction = false;\n\nfunction setCurrentlyInTransaction(state) {\n  currentlyInTransaction = state;\n}\n/**\n * Check if the current page is currently unblocking content.\n */\n\n\nfunction isCurrentlyInTransaction() {\n  return currentlyInTransaction;\n}\n\nexport { setCurrentlyInTransaction, isCurrentlyInTransaction };","/**\n * Given by criteria, IDs and content blocker ID decide if the consent is given.\n */\nfunction decideToUnblock(by, requiredIds, blockerId, checker) {\n  const required = typeof requiredIds === \"string\" ? requiredIds.split(\",\").map(Number) : requiredIds;\n  return checker(by, required, blockerId);\n}\n\nexport { decideToUnblock };","import { HTML_ATTRIBUTE_INLINE_STYLE, HTML_TAG_CONSENT_SCRIPT } from \".\";\n/**\n * Put an prepared inline style (tag containing a `consent-inline-style` attribute) to the DOM.\n */\n\nasync function putStyleInlineToDom(node) {\n  // Get the inline style itself\n  const inlineStyle = node.getAttribute(HTML_ATTRIBUTE_INLINE_STYLE);\n  node.removeAttribute(HTML_ATTRIBUTE_INLINE_STYLE); // Transform the tag to the `style`\n  // We need to make such a hacky way because regex does not work and `outerHTML` has also some issues...\n\n  let inlineStyleHtml = node.outerHTML.substr(HTML_TAG_CONSENT_SCRIPT.length + 1);\n  inlineStyleHtml = inlineStyleHtml.substr(0, inlineStyleHtml.length - HTML_TAG_CONSENT_SCRIPT.length - 3);\n  inlineStyleHtml = inlineStyleHtml.replace(new RegExp(\"type=\\\"application/consent\\\"\"), \"\");\n  inlineStyleHtml = \"<style \".concat(HTML_ATTRIBUTE_INLINE_STYLE, \"=\\\"1\\\" \").concat(inlineStyleHtml).concat(inlineStyle, \"</style>\"); // add inline attribute so `applyStyleRules` can check one more time for blocked URLs\n\n  node.parentElement.replaceChild(new DOMParser().parseFromString(inlineStyleHtml, \"text/html\").querySelector(\"style\"), node);\n}\n\nexport { putStyleInlineToDom };","import { putStyleInlineToDom, HTML_ATTRIBUTE_INLINE_STYLE, HTML_TAG_CONSENT_SCRIPT, HTML_ATTRIBUTE_COOKIE_IDS } from \".\";\nimport { decideToUnblock, htmlDecode } from \"..\";\n/**\n * Find consent URLs and check for consent and return new style string.\n *\n * @see https://regex101.com/r/9FJWnR/1\n * @param style\n * @param checker\n */\n\nfunction transformInlineStyle(style, checker) {\n  let noConsentCount = 0;\n  const newStyle = style.replace(/(url\\s*\\([\"'\\s]*)([^\"]+dummy\\.(?:png|css))\\?consent-required=([0-9,]+)&consent-by=(\\w+)&consent-id=(\\d+)&consent-original-url=([^-]+)-/gm, (m, urlPrefix, maskedUrl, requiredString, by, blockerId, base64EncodedUrl) => {\n    const {\n      consent\n    } = decideToUnblock(by, requiredString, +blockerId, checker);\n\n    if (!consent) {\n      noConsentCount++;\n    }\n\n    return consent ? \"\".concat(urlPrefix).concat(htmlDecode(atob(base64EncodedUrl))) : m;\n  });\n  return [newStyle, noConsentCount];\n}\n/**\n * Get all blocked rules within a inline CSS style and check, if they can be enabled by a consent.\n */\n\n\nfunction transformInlineStyleRules(checker) {\n  let nodes; // First: Iterate all `style`'s\n\n  nodes = Array.prototype.slice.call(document.querySelectorAll(\"[\".concat(HTML_ATTRIBUTE_INLINE_STYLE, \"]\")));\n\n  for (const node of nodes) {\n    // Get the inline style (can be inside attribute when it should be placed to DOM the first time)\n    const isFirstTransition = node.tagName.toLowerCase() === HTML_TAG_CONSENT_SCRIPT;\n    const innerHTML = isFirstTransition ? node.getAttribute(HTML_ATTRIBUTE_INLINE_STYLE) : node.innerHTML;\n    const [newInnerHTML, noConsentCount] = transformInlineStyle(innerHTML, checker); // Put pack to DOM\n\n    if (isFirstTransition) {\n      node.setAttribute(HTML_ATTRIBUTE_INLINE_STYLE, newInnerHTML);\n      putStyleInlineToDom(node);\n    } else {\n      if (node.innerHTML !== newInnerHTML) {\n        node.innerHTML = newInnerHTML;\n      }\n\n      if (noConsentCount === 0) {\n        node.removeAttribute(HTML_ATTRIBUTE_INLINE_STYLE);\n      }\n    }\n  } // Second: All elements with `style=` attribute\n\n\n  nodes = Array.prototype.slice.call(document.querySelectorAll(\"[style*=\\\"\".concat(HTML_ATTRIBUTE_COOKIE_IDS, \"\\\"]\")));\n\n  for (const node of nodes) {\n    node.setAttribute(\"style\", transformInlineStyle(node.getAttribute(\"style\"), checker)[0]);\n  }\n}\n\nexport { transformInlineStyleRules };","import { calculate } from \"specificity\";\nimport { priorityByRule } from \".\";\n\nfunction calculateScore(rule, stackSize, property) {\n  const score = +calculate(rule.selectorText)[0].specificity.replace(/,/g, \"\");\n  const specificity = stackSize + score * 10 + priorityByRule(rule, property);\n  return {\n    selector: rule.selectorText,\n    specificity\n  };\n}\n\nexport { calculateScore };","function priorityByRule(rule, property) {\n  var _rule$style;\n\n  return ((_rule$style = rule.style) === null || _rule$style === void 0 ? void 0 : _rule$style.getPropertyPriority(property)) === \"important\" ? 100000 : 0;\n}\n\nexport { priorityByRule };","import { calculateScore } from \".\";\nimport { matchingSelector } from \".\";\n\nfunction iterateRules(rules, element, scoresPool, property) {\n  for (const ruleIdx in rules) {\n    const rule = rules[ruleIdx];\n\n    if (!(rule instanceof CSSStyleRule)) {\n      continue;\n    }\n\n    try {\n      if (matchingSelector(element, rule.selectorText)) {\n        const style = rule.style[property];\n\n        if (style !== undefined && style !== \"\") {\n          scoresPool.push({ ...calculateScore(rule, scoresPool.length, property),\n            style\n          });\n        }\n      }\n    } catch (e) {// Silence is golden.\n    }\n  }\n}\n\nexport { iterateRules };","import { resolveScorePool } from \"./resolveScorePool\";\n\nfunction resolveNoneComputedStyle(element, property) {\n  const scores = resolveScorePool(element, property);\n  return scores === null || scores === void 0 ? void 0 : scores[0].style;\n}\n\nexport * from \"./calculateInlineScore\";\nexport * from \"./calculateScore\";\nexport * from \"./iterateRules\";\nexport * from \"./iterateStylesheets\";\nexport * from \"./matchingSelector\";\nexport * from \"./priorityByRule\";\nexport * from \"./sortScores\";\nexport * from \"./resolveScorePool\";\nexport { resolveNoneComputedStyle };","import { calculateInlineScore, iterateStylesheets, sortScores } from \".\";\n\nfunction resolveScorePool(element, property) {\n  const scores = []; // Iterate all our stylesheets\n\n  iterateStylesheets(element, scores, property); // Calculate by inline style\n\n  const inline = calculateInlineScore(element, property);\n  inline && scores.push(inline); // Prepare result\n\n  if (!scores.length) {\n    return undefined;\n  } // Sort scores\n\n\n  sortScores(scores);\n  return scores;\n}\n\nexport { resolveScorePool };","import { iterateRules } from \".\";\n\nfunction iterateStylesheets(element, scores, property) {\n  const {\n    styleSheets\n  } = document;\n\n  for (const styleSheetIdx in styleSheets) {\n    const styleSheet = styleSheets[styleSheetIdx];\n    let rules;\n\n    try {\n      rules = styleSheet.cssRules || styleSheet.rules;\n    } catch (e) {\n      // Rules could not be read, e.g. CORS policy (https://stackoverflow.com/a/49994161/5506547)\n      continue;\n    }\n\n    if (!rules) {\n      continue;\n    }\n\n    iterateRules(rules, element, scores, property);\n  }\n}\n\nexport { iterateStylesheets };","function calculateInlineScore(element, property) {\n  const inline = element.style[property];\n  return inline ? {\n    selector: \"! undefined !\",\n    specificity: 10000 + (new String(inline).match(/\\s!important/gi) ? 100000 : 0),\n    style: inline\n  } : undefined;\n}\n\nexport { calculateInlineScore };","function sortScores(scores) {\n  scores.sort((a, b) => {\n    if (a.specificity > b.specificity) {\n      return -1;\n    }\n\n    if (a.specificity < b.specificity) {\n      return 1;\n    }\n\n    return 0;\n  });\n}\n\nexport { sortScores };","import { resolveNoneComputedStyle } from \"@devowl-wp/resolve-none-computed-style\";\nimport { HTML_ATTRIBUTE_WAS_PREVIOUSLY_STRICT_HIDDEN, HTML_ATTRIBUTE_RESET_PARENT, HTML_ATTRIBUTE_RESET_PARENT_VALUE, HTML_ATTRIBUTE_RESET_PARENT_IS_RATIO_CONTAINER } from \"..\"; // TODO: make configurable\n\nconst KNOWN_RATIO_CLASSES = [// General\n\"-aspect-ratio\", // Gutenberg\n\"wp-block-embed__wrapper\", // Cornerstone\n\"x-frame-inner\", // Fusion\n\"fusion-video\", // Oxygen\n\"video-wrapper\"];\nconst RESET_STYLE_IMPORTANT = {\n  \"max-height\": \"initial\",\n  height: \"auto\",\n  padding: 0,\n  \"aspect-ratio\": \"initial\",\n  \"box-sizing\": \"border-box\"\n};\nconst RESET_STYLE = {\n  width: \"100%\"\n};\nconst MEMORIZE_OLD_STYLE = \"consent-cb-memo-style\";\n/**\n * Example: Vimeo responsive video.\n *\n * ```html\n * <div style=\"padding:56.25% 0 0 0;position:relative;\">\n *  <iframe style=\"position:absolute;top:0;left:0;width:100%;height:100%;\"></iframe>\n * </div>\n * ```\n *\n * Example 2: Oxygen responsive video wrapper\n *\n * ```html\n * <div style=\"aspect-ratio:16/9\">\n *  <iframe></iframe>\n * </div>\n * ```\n */\n\nfunction isPotentialVisualWithinResponsiveContainer(node) {\n  const {\n    parentElement\n  } = node;\n\n  if (!parentElement) {\n    return false;\n  }\n\n  const parentComputedStyle = getComputedStyle(parentElement);\n\n  if (/\\d+\\s*\\/\\s*\\d+/g.test(parentComputedStyle[\"aspectRatio\"])) {\n    return true;\n  }\n\n  const {\n    position: nodePosition\n  } = getComputedStyle(node);\n  const {\n    position: parentPosition\n  } = parentComputedStyle;\n  return nodePosition === \"absolute\" && parentPosition === \"relative\" && parentElement.style.paddingTop.indexOf(\"%\") > -1;\n}\n/**\n * Modify parent element with some styles, e. g. Elementor puts some padding into it.\n * We need to enforce the style via inline-style because some themes use `!important` in their\n * classes, too.\n *\n * @param state If `true`, the reset-style will be forced and vice-versa\n */\n\n\nfunction probablyResetParentContainerForVisual(contentBlocker, state) {\n  var _parentElement$parent;\n\n  const {\n    parentElement\n  } = contentBlocker;\n  const iterateParents = [parentElement, parentElement === null || parentElement === void 0 ? void 0 : parentElement.parentElement, parentElement === null || parentElement === void 0 ? void 0 : (_parentElement$parent = parentElement.parentElement) === null || _parentElement$parent === void 0 ? void 0 : _parentElement$parent.parentElement].filter(Boolean); // Go max three levels upwards\n\n  for (const parent of iterateParents) {\n    // Calculate if this HTML element is a ratio container and can be reset\n    if (!parent.hasAttribute(HTML_ATTRIBUTE_RESET_PARENT_IS_RATIO_CONTAINER)) {\n      const foundRatioClass = KNOWN_RATIO_CLASSES.filter(c => parent.className.indexOf(c) > -1).length > 0;\n      const isFirstItemWithinResponsiveContainer = parent === parentElement && isPotentialVisualWithinResponsiveContainer(contentBlocker);\n      const isRatioContainer = isFirstItemWithinResponsiveContainer || foundRatioClass || [0, \"0%\", \"0px\"].indexOf(resolveNoneComputedStyle(parent, \"height\")) > -1;\n      parent.setAttribute(HTML_ATTRIBUTE_RESET_PARENT_IS_RATIO_CONTAINER, isRatioContainer ? \"1\" : \"0\");\n    }\n\n    if (state && parent.getAttribute(HTML_ATTRIBUTE_RESET_PARENT_IS_RATIO_CONTAINER) === \"1\") {\n      // Check the `display:none!important` style\n      const previouslyStrictHidden = parent.hasAttribute(HTML_ATTRIBUTE_WAS_PREVIOUSLY_STRICT_HIDDEN);\n      let style = parent.getAttribute(\"style\") || \"\";\n      parent.removeAttribute(HTML_ATTRIBUTE_WAS_PREVIOUSLY_STRICT_HIDDEN);\n\n      if (!previouslyStrictHidden) {\n        style = style.replace(/display:\\s*none\\s*!important;/, \"\");\n      } // Apply our new styles with memorization\n\n\n      parent.setAttribute(HTML_ATTRIBUTE_RESET_PARENT, HTML_ATTRIBUTE_RESET_PARENT_VALUE);\n      parent.setAttribute(MEMORIZE_OLD_STYLE, style);\n\n      for (const property in RESET_STYLE_IMPORTANT) {\n        parent.style.setProperty(property, RESET_STYLE_IMPORTANT[property], \"important\");\n      }\n\n      for (const property in RESET_STYLE) {\n        parent.style.setProperty(property, RESET_STYLE[property]);\n      } // Special use case: Positioning\n\n\n      if (window.getComputedStyle(parent).position === \"absolute\") {\n        parent.style.setProperty(\"position\", \"static\", \"important\");\n      }\n    } else if (!state && parent.hasAttribute(HTML_ATTRIBUTE_RESET_PARENT)) {\n      parent.setAttribute(\"style\", parent.getAttribute(MEMORIZE_OLD_STYLE) || \"\");\n      parent.removeAttribute(MEMORIZE_OLD_STYLE);\n      parent.removeAttribute(HTML_ATTRIBUTE_RESET_PARENT);\n    }\n  }\n}\n\nexport { isPotentialVisualWithinResponsiveContainer, probablyResetParentContainerForVisual };","/**\n * @see https://stackoverflow.com/a/7557433/5506547\n */\nfunction isElementInViewport(el, partial = false) {\n  const {\n    top,\n    left,\n    bottom,\n    right,\n    height,\n    width\n  } = el.getBoundingClientRect();\n  const {\n    innerWidth,\n    innerHeight\n  } = window;\n\n  if (partial) {\n    const vertInView = top <= innerHeight && top + height >= 0;\n    const horInView = left <= innerWidth && left + width >= 0;\n    return vertInView && horInView;\n  } else {\n    const {\n      clientHeight,\n      clientWidth\n    } = document.documentElement;\n    return top >= 0 && left >= 0 && bottom <= (innerHeight || clientHeight) && right <= (innerWidth || clientWidth);\n  }\n}\n\nexport { isElementInViewport };","import { matchingSelector } from \"@devowl-wp/resolve-none-computed-style\";\nimport { HTML_ATTRIBUTE_VISUAL_PARENT } from \"..\";\nconst CHILDREN_SELECTOR_PREFIX = \"children:\";\n/**\n * Find element where the visual content blocker should be placed relative to the blocked element.\n */\n\nfunction findVisualParent(node, setVisualParentIfClassOfParent = {}) {\n  if (!node.parentElement) {\n    return [node, \"none\"];\n  } // Find visual parent attribute\n\n\n  const forceVisualParent = [\"a\"].indexOf(node.parentElement.tagName.toLowerCase()) > -1; // for links always use the parent\n\n  let useVisualParent = forceVisualParent;\n\n  if (node.hasAttribute(HTML_ATTRIBUTE_VISUAL_PARENT)) {\n    useVisualParent = node.getAttribute(HTML_ATTRIBUTE_VISUAL_PARENT);\n  } else {\n    const {\n      className\n    } = node.parentElement;\n\n    for (const def in setVisualParentIfClassOfParent) {\n      if (className.indexOf(def) > -1) {\n        useVisualParent = setVisualParentIfClassOfParent[def];\n        break;\n      }\n    }\n  }\n\n  if (useVisualParent) {\n    if (useVisualParent === true || useVisualParent === \"true\") {\n      // Usual behavior, just take the parent\n      return [node.parentElement, \"parent\"];\n    } else if (!isNaN(+useVisualParent)) {\n      // The attribute is a number, let's go up x parents\n      let parent = node;\n\n      for (let i = 0; i < +useVisualParent; i++) {\n        if (!parent.parentElement) {\n          return [parent, \"parentZ\"]; // Fallback to last found parent\n        }\n\n        parent = parent.parentElement;\n      }\n\n      return [parent, \"parentZ\"];\n    } else if (typeof useVisualParent === \"string\") {\n      if (useVisualParent.startsWith(CHILDREN_SELECTOR_PREFIX)) {\n        return [node.querySelector(useVisualParent.substr(CHILDREN_SELECTOR_PREFIX.length)), \"childrenSelector\"];\n      } else {\n        // The attribute is a query selector\n        for (let elem = node; elem; elem = elem.parentElement) {\n          if (matchingSelector(elem, useVisualParent)) {\n            return [elem, \"parentSelector\"];\n          }\n        }\n      }\n    }\n  }\n\n  return [node, \"none\"];\n}\n\nexport { findVisualParent };","/**\n * Get previous HTML element which is visible.\n *\n * @see https://stackoverflow.com/a/31207879/5506547\n * @see https://stackoverflow.com/a/21696585/5506547\n */\nfunction getPreviousVisibleElement(node, rateAsVisible) {\n  function prevAll(element) {\n    const result = [];\n\n    while (element = element.previousElementSibling) result.push(element);\n\n    return result;\n  }\n\n  const previousVisible = prevAll(node).filter(e => {\n    if (e.offsetParent) {\n      // It is safely visible\n      return true;\n    } // Allow to override rating\n\n\n    return rateAsVisible ? rateAsVisible(e) : false;\n  });\n  return previousVisible.length ? previousVisible[0] : undefined;\n}\n\nexport { getPreviousVisibleElement };","import { getPreviousVisibleElement } from \"../utils\";\nimport { HTML_ATTRIBUTE_THUMBNAIL, HTML_ATTRIBUTE_BLOCKER_CONNECTED, HTML_ATTRIBUTE_BLOCKER_ID } from \"..\";\n\nfunction isHtmlNodeContentBlocker(node) {\n  return node.hasAttribute(HTML_ATTRIBUTE_BLOCKER_CONNECTED);\n}\n\nfunction mapIgnoreInvisibleAndUsePreviousVisible(element) {\n  return element.offsetParent ? element : getPreviousVisibleElement(element, isHtmlNodeContentBlocker);\n}\n/**\n * Find a duplicate before a given node to avoid duplicate content blockers for the same content.\n */\n\n\nfunction findPreviousVisibleDuplicate(node, blockerId) {\n  var _node$parentElement, _node$parentElement2, _node$parentElement2$, _secondParentPrevious;\n\n  const {\n    previousElementSibling\n  } = node;\n  const visualThumbnail = node.getAttribute(HTML_ATTRIBUTE_THUMBNAIL);\n  const firstParentPreviousElementSibling = (_node$parentElement = node.parentElement) === null || _node$parentElement === void 0 ? void 0 : _node$parentElement.previousElementSibling;\n  const secondParentPreviousElementSibling = (_node$parentElement2 = node.parentElement) === null || _node$parentElement2 === void 0 ? void 0 : (_node$parentElement2$ = _node$parentElement2.parentElement) === null || _node$parentElement2$ === void 0 ? void 0 : _node$parentElement2$.previousElementSibling;\n  const possibleDuplicates = [getPreviousVisibleElement(node, isHtmlNodeContentBlocker), previousElementSibling, previousElementSibling === null || previousElementSibling === void 0 ? void 0 : previousElementSibling.lastElementChild, // 1st parent up\n  firstParentPreviousElementSibling, firstParentPreviousElementSibling === null || firstParentPreviousElementSibling === void 0 ? void 0 : firstParentPreviousElementSibling.lastElementChild, // 2nd parent up\n  secondParentPreviousElementSibling, secondParentPreviousElementSibling === null || secondParentPreviousElementSibling === void 0 ? void 0 : secondParentPreviousElementSibling.lastElementChild, secondParentPreviousElementSibling === null || secondParentPreviousElementSibling === void 0 ? void 0 : (_secondParentPrevious = secondParentPreviousElementSibling.lastElementChild) === null || _secondParentPrevious === void 0 ? void 0 : _secondParentPrevious.lastElementChild].filter(Boolean) // Get previous visible element if the last child element is not visible\n  .map(mapIgnoreInvisibleAndUsePreviousVisible).filter(Boolean);\n\n  for (const possibleDuplicate of possibleDuplicates) {\n    if (+possibleDuplicate.getAttribute(HTML_ATTRIBUTE_BLOCKER_ID) === blockerId && possibleDuplicate.hasAttribute(HTML_ATTRIBUTE_BLOCKER_CONNECTED)) {\n      // If the blocked node has a visual thumbnail, check if the blocked content of\n      // the possible duplicate has not the same visual thumbnail. Otherwise, use it\n      // as duplicate.\n      const blockedContentOfPossibleDuplicate = possibleDuplicate.nextElementSibling;\n\n      if (blockedContentOfPossibleDuplicate && visualThumbnail && blockedContentOfPossibleDuplicate.hasAttribute(HTML_ATTRIBUTE_THUMBNAIL) && blockedContentOfPossibleDuplicate.getAttribute(HTML_ATTRIBUTE_THUMBNAIL) !== visualThumbnail) {\n        return false;\n      }\n\n      return possibleDuplicate;\n    }\n  }\n\n  return false;\n}\n\nexport { findPreviousVisibleDuplicate };","import { parents, isElementInViewport, HTML_ATTRIBUTE_BLOCKER_CONNECTED, HTML_ATTRIBUTE_WAS_PREVIOUSLY_STRICT_HIDDEN, HTML_ATTRIBUTE_BLOCKER_CONNECTED_PRESERVED, HTML_ATTRIBUTE_VISUAL_PAINT_MODE } from \"..\";\nimport { probablyResetParentContainerForVisual, isPotentialVisualWithinResponsiveContainer, findVisualParent, findPreviousVisibleDuplicate, createVisualContainer } from \".\";\n/**\n * Save the identifier for the last clicked content blocker so we can\n * dispatch in our event if it is the clicked one. This is useful e.g.\n * to delegate the click event further and start a video.\n */\n\nlet lastClickedConnectedCounter = undefined;\nlet connectedCounterPreserve = 0;\n/**\n * Create visual content blocker for a given node.\n *\n * Returns `undefined` when the container cannot be created.\n */\n\nfunction createVisual({\n  node,\n  blocker,\n  setVisualParentIfClassOfParent,\n  dependantVisibilityContainers,\n  mount\n}) {\n  var _node$style, _document$querySelect;\n\n  // Short circuit: We do not know a blocker for this; do nothing\n  if (!blocker) {\n    return undefined;\n  } // Apply a unique identifier for this node\n\n\n  if (!node.hasAttribute(HTML_ATTRIBUTE_BLOCKER_CONNECTED_PRESERVED)) {\n    node.setAttribute(HTML_ATTRIBUTE_BLOCKER_CONNECTED_PRESERVED, connectedCounterPreserve.toString());\n    connectedCounterPreserve++;\n  }\n\n  const connectedCounter = +node.getAttribute(HTML_ATTRIBUTE_BLOCKER_CONNECTED_PRESERVED);\n  const {\n    parentElement\n  } = node;\n  const {\n    shouldForceToShowVisual = false,\n    isVisual,\n    id: blockerId\n  } = blocker;\n  const position = ((_node$style = node.style) === null || _node$style === void 0 ? void 0 : _node$style.position) || \"initial\"; // Visual content blockers are only allowed for \"real\" content\n\n  const isPositioned = [\"fixed\", \"absolute\", \"sticky\"].indexOf(position) > -1;\n  const isNotInContent = [document.body, document.head, document.querySelector(\"html\")].indexOf(parentElement) > -1;\n  const isAlreadyConnected = node.getAttribute(HTML_ATTRIBUTE_BLOCKER_CONNECTED);\n  const [createBefore, visualParentMode] = findVisualParent(node, setVisualParentIfClassOfParent || {}); // const isInlineScriptOrStyle = createBefore.hasAttribute(HTML_ATTRIBUTE_INLINE) || createBefore.hasAttribute(HTML_ATTRIBUTE_INLINE_STYLE);\n\n  const isVisible = !!createBefore.offsetParent; // Always hide elements (again) if no visual blocker is possible (get) and memorize\n  // the \"!important\" state so we can correctly reset it in `probablyResetParentContainerForVisual`\n\n  const fnStrictHide = () => {\n    if ([\"script\", \"link\"].indexOf(node === null || node === void 0 ? void 0 : node.tagName.toLowerCase()) === -1 && visualParentMode !== \"childrenSelector\") {\n      const {\n        style\n      } = node;\n\n      if (style.getPropertyValue(\"display\") === \"none\" && style.getPropertyPriority(\"display\") === \"important\") {\n        node.setAttribute(HTML_ATTRIBUTE_WAS_PREVIOUSLY_STRICT_HIDDEN, \"1\");\n      } else {\n        style.setProperty(\"display\", \"none\", \"important\");\n      }\n    }\n  };\n\n  if (isNotInContent || isPositioned && !isPotentialVisualWithinResponsiveContainer(node) && !shouldForceToShowVisual || !isVisual || isAlreadyConnected || !isVisible && !shouldForceToShowVisual) {\n    // Check if this content blocker is inside a known container for which we need to wait first its visibility\n    if (!isVisible && dependantVisibilityContainers) {\n      const dependantContainers = parents(node, dependantVisibilityContainers.join(\",\"));\n\n      if (dependantContainers.length > 0 && !dependantContainers[0].offsetParent) {\n        // Wait for visibility, do nothing with this node...\n        return undefined;\n      }\n    }\n\n    fnStrictHide();\n    return undefined;\n  } // Avoid duplicate visual blockers and connect them\n\n\n  const foundDuplicate = findPreviousVisibleDuplicate(createBefore, blockerId);\n\n  if (foundDuplicate) {\n    node.setAttribute(HTML_ATTRIBUTE_BLOCKER_CONNECTED, foundDuplicate.getAttribute(HTML_ATTRIBUTE_BLOCKER_CONNECTED));\n    probablyResetParentContainerForVisual(createBefore, true);\n    fnStrictHide();\n    return undefined;\n  }\n\n  const {\n    container,\n    thumbnail\n  } = createVisualContainer(node, createBefore, visualParentMode);\n\n  const mountVisualContainer = paintMode => {\n    container.setAttribute(HTML_ATTRIBUTE_VISUAL_PAINT_MODE, paintMode);\n    mount({\n      container,\n      blocker,\n      connectedCounter,\n      onClick: event => {\n        // Stop above propagation so click event handlers do not handle this as a click on the\n        // mainly blocked element (example: Video inside another container which delegates click event).\n        event === null || event === void 0 ? void 0 : event.stopPropagation();\n        setLastClickedConnectedCounter(connectedCounter);\n      },\n      blockedNode: node,\n      thumbnail,\n      paintMode\n    });\n    probablyResetParentContainerForVisual(createBefore, true);\n  }; // Lazy load the visual container (not depending on view port but do not overload the main thread with idle timing)\n\n\n  if (isElementInViewport(container, true)) {\n    mountVisualContainer(\"instantInViewport\");\n  } else if ( // If the previous one was in viewport, consider the next one as \"instant\" as it could lead\n  // to unexpected behavior (e.g. ratio class is used and container is in viewport at the bottom screen\n  // but isn't technically due to vertical alignment to bottom).\n  ((_document$querySelect = document.querySelector(\".rcb-content-blocker[\".concat(HTML_ATTRIBUTE_BLOCKER_CONNECTED, \"=\\\"\").concat(connectedCounter - 1, \"\\\"][\").concat(HTML_ATTRIBUTE_VISUAL_PAINT_MODE, \"]\"))) === null || _document$querySelect === void 0 ? void 0 : _document$querySelect.getAttribute(HTML_ATTRIBUTE_VISUAL_PAINT_MODE)) === \"instantInViewport\") {\n    mountVisualContainer(\"instant\");\n  } else if (window.requestIdleCallback) {\n    window.requestIdleCallback(() => mountVisualContainer(\"idleCallback\"));\n  } else {\n    setTimeout(() => mountVisualContainer(\"instant\"));\n  }\n\n  return container;\n}\n\nfunction getLastClickedConnectedCounter() {\n  return lastClickedConnectedCounter;\n}\n\nfunction setLastClickedConnectedCounter(connectedCounter) {\n  lastClickedConnectedCounter = connectedCounter;\n}\n\nexport { createVisual, getLastClickedConnectedCounter, setLastClickedConnectedCounter };","import { HTML_ATTRIBUTE_BLOCKER_CONNECTED, HTML_ATTRIBUTE_BLOCKER_CONNECTED_PRESERVED, HTML_ATTRIBUTE_BLOCKER_ID, HTML_ATTRIBUTE_BY, HTML_ATTRIBUTE_COOKIE_IDS, HTML_ATTRIBUTE_THUMBNAIL } from \"..\";\n\n/**\n * Create visual content blocker container for a given node.\n */\nfunction createVisualContainer(node, createBefore, visualParentMode) {\n  const container = document.createElement(\"div\");\n  const {\n    style\n  } = container;\n  const connectedCounter = node.getAttribute(HTML_ATTRIBUTE_BLOCKER_CONNECTED_PRESERVED); // Connect blocker with blocked node\n\n  container.setAttribute(HTML_ATTRIBUTE_BLOCKER_CONNECTED, connectedCounter);\n  container.className = \"rcb-content-blocker\";\n  style.setProperty(\"max-height\", \"initial\");\n  style.setProperty(\"pointer-events\", \"all\");\n  style.setProperty(\"flex-grow\", \"1\");\n  node.setAttribute(HTML_ATTRIBUTE_BLOCKER_CONNECTED, connectedCounter);\n  createBefore.parentNode.insertBefore(container, createBefore); // Copy consent attributes so they are found via `findBlockedNodes`, too\n\n  [HTML_ATTRIBUTE_BY, HTML_ATTRIBUTE_BLOCKER_ID, HTML_ATTRIBUTE_COOKIE_IDS].forEach(a => {\n    if (node.hasAttribute(a)) {\n      container.setAttribute(a, node.getAttribute(a));\n    }\n  }); // Connect a children selector with the content blocker above\n\n  if (visualParentMode === \"childrenSelector\") {\n    createBefore.setAttribute(HTML_ATTRIBUTE_BLOCKER_CONNECTED, connectedCounter);\n  } // Find configured visual thumbnail\n\n\n  let thumbnail;\n\n  if (node.hasAttribute(HTML_ATTRIBUTE_THUMBNAIL)) {\n    thumbnail = JSON.parse(node.getAttribute(HTML_ATTRIBUTE_THUMBNAIL));\n  } else {\n    const nestedThumbnailNode = node.querySelectorAll(\"[\".concat(HTML_ATTRIBUTE_THUMBNAIL));\n\n    if (nestedThumbnailNode.length > 0) {\n      thumbnail = JSON.parse(nestedThumbnailNode[0].getAttribute(HTML_ATTRIBUTE_THUMBNAIL));\n    }\n  } // Hide our element and render content blocker\n\n\n  (visualParentMode === \"childrenSelector\" ? createBefore : node).style.setProperty(\"display\", \"none\", \"important\");\n  return {\n    container,\n    thumbnail\n  };\n}\n\nexport { createVisualContainer };","import { getLastClickedConnectedCounter } from \".\";\nimport { HTML_ATTRIBUTE_BLOCKER_CONNECTED, HTML_ATTRIBUTE_BLOCKER_ID, HTML_ATTRIBUTE_BY, HTML_ATTRIBUTE_GOT_CLICKED, HTML_ATTRIBUTE_GOT_CLICKED_VALUE, HTML_ATTRIBUTE_GOT_CLICKED_VALUE_DO_NOT_USE_IN_NESTED, parents } from \"..\";\n/**\n * Detect if a given unblocked node is the last clicked element so we can delegate the click\n * event to the unblocking mechanism. This allows us e.g. autoplay for YouTube.\n */\n\nfunction detectLastClicked(node) {\n  const connectedBlocker = node.getAttribute(HTML_ATTRIBUTE_BLOCKER_CONNECTED);\n  const consentId = node.getAttribute(HTML_ATTRIBUTE_BLOCKER_ID);\n  const consentBy = node.getAttribute(HTML_ATTRIBUTE_BY);\n  const lastClicked = getLastClickedConnectedCounter();\n  let isLastClicked = \"\".concat(lastClicked) === connectedBlocker;\n\n  if (isLastClicked) {\n    node.setAttribute(HTML_ATTRIBUTE_GOT_CLICKED, HTML_ATTRIBUTE_GOT_CLICKED_VALUE);\n  } else {\n    // Check if there is a parent unblocked element which got clicked and we can\n    // use it as our \"click\"-indicator. This allows us to delegate click elements to\n    // the first unblocked, nested element.\n    const [parentGotClicked] = parents(node, \"[\".concat(HTML_ATTRIBUTE_GOT_CLICKED, \"=\\\"\").concat(HTML_ATTRIBUTE_GOT_CLICKED_VALUE, \"\\\"][\").concat(HTML_ATTRIBUTE_BLOCKER_ID, \"=\\\"\").concat(consentId, \"\\\"][\").concat(HTML_ATTRIBUTE_BY, \"=\\\"\").concat(consentBy, \"\\\"]\"));\n\n    if (parentGotClicked) {\n      parentGotClicked.setAttribute(HTML_ATTRIBUTE_GOT_CLICKED, HTML_ATTRIBUTE_GOT_CLICKED_VALUE_DO_NOT_USE_IN_NESTED);\n      isLastClicked = true;\n    }\n  }\n\n  return isLastClicked;\n}\n\nexport { detectLastClicked };","import { isCurrentlyInTransaction, OPT_IN_CONTENT_BLOCKER_ALL } from \"../..\";\nlet overwritten = false;\n/**\n * Overwrite `jQuery(fn)` as they can not be triggered by our script blocker.\n *\n * @see https://api.jquery.com/ready/\n */\n\nfunction applyJQueryReadyInitiator(doc) {\n  // Only overwrite once\n  if (overwritten) {\n    return;\n  }\n\n  const {\n    jQuery\n  } = doc.defaultView || doc.parentWindow;\n\n  if (!jQuery) {\n    return;\n  }\n\n  const originalFn = jQuery.fn.ready;\n\n  jQuery.fn.ready = function (fn) {\n    if (fn) {\n      if (isCurrentlyInTransaction()) {\n        // Standard behavior: jQuery.ready() got called with the unblocked script\n        let executed = false;\n        document.addEventListener(OPT_IN_CONTENT_BLOCKER_ALL, () => {\n          // IE does not support the `once` option\n          if (executed) {\n            return;\n          }\n\n          executed = true; // Redirect to own thread to avoid variable order lacks (e. g. Uncode Gmaps Integration, Contact Form 7\n\n          setTimeout(() => {\n            fn(jQuery);\n          }, 0);\n        });\n      } else {\n        // Edge case: jQuery.ready() got called multiple times and nested\n        // Example:\n        // <script>\n        // console.log(\"gravatar.com/avatar\");\n        // jQuery(function() {\n        //   console.log(\"unblocked\");\n        //   jQuery(function() {\n        //     console.log(\"unblocked 2\");\n        //   });\n        // });\n        // </script>\n        setTimeout(() => {\n          fn(jQuery);\n        }, 0);\n      }\n    }\n\n    return originalFn.apply(this, [() => {// Silence is golden.\n    }]);\n  };\n\n  overwritten = true;\n}\n\nexport { applyJQueryReadyInitiator };","import { isCurrentlyInTransaction, OPT_IN_CONTENT_BLOCKER_ALL } from \"../..\";\nimport { MEMORIZE_JQUERY_EVENT_PROPERTY } from \".\";\nconst OVERWRITE_PROPERTY = \"rcbJQueryEventListener\";\n/**\n * Overwrite `jQuery(selector).on` and `jQuery.event.add` for special events\n * like `elementor/frontend/init`.\n */\n\nfunction applyJQueryEventInitiator(doc, element, eventName, {\n  onBeforeExecute\n} = {\n  onBeforeExecute: undefined\n}) {\n  const overwriteProp = \"\".concat(OVERWRITE_PROPERTY, \"_\").concat(eventName);\n  const memorizeProp = \"\".concat(MEMORIZE_JQUERY_EVENT_PROPERTY, \"_\").concat(eventName);\n  const {\n    jQuery\n  } = doc.defaultView || doc.parentWindow;\n\n  if (!jQuery) {\n    return;\n  }\n\n  const {\n    event,\n    Event\n  } = jQuery;\n\n  if (!event || !Event || event[overwriteProp]) {\n    return;\n  }\n\n  const {\n    add\n  } = event;\n  Object.assign(event, {\n    [overwriteProp]: true,\n    add: function (...args) {\n      // https://git.io/JsXSb\n      const [elem, types, handler, data, selector] = args;\n      const useTypes = Array.isArray(types) ? types : typeof types === \"string\" ? types.split(\" \") : types;\n      const memorizeExecutionPromise = event[memorizeProp];\n      const inTransaction = isCurrentlyInTransaction(); // Redirect to own thread to avoid variable order lacks (e. g. Uncode Gmaps Integration, Contact Form 7)\n\n      const executeHandle = ([, ...eventParameters] = []) => setTimeout(() => {\n        onBeforeExecute === null || onBeforeExecute === void 0 ? void 0 : onBeforeExecute(inTransaction);\n        handler === null || handler === void 0 ? void 0 : handler(new Event(), ...eventParameters);\n      }, 0);\n\n      if (types && elem === element) {\n        for (const type of useTypes) {\n          const isRequestedEventName = type === eventName;\n\n          if (isRequestedEventName && inTransaction) {\n            let executed = false;\n            document.addEventListener(OPT_IN_CONTENT_BLOCKER_ALL, () => {\n              // IE does not support the `once` option\n              if (executed) {\n                return;\n              }\n\n              executed = true;\n\n              if (memorizeExecutionPromise) {\n                memorizeExecutionPromise.then(executeHandle);\n              } else {\n                executeHandle();\n              }\n            });\n          } else if (isRequestedEventName && memorizeExecutionPromise) {\n            memorizeExecutionPromise.then(executeHandle);\n          } else {\n            add.apply(this, [elem, type, handler, data, selector]);\n          }\n        }\n      } else {\n        add.apply(this, args);\n      }\n    }\n  });\n}\n\nexport { applyJQueryEventInitiator };","import { OPT_IN_CONTENT_BLOCKER_ALL, isCurrentlyInTransaction } from \"../..\";\nimport { MEMORIZE_NATIVE_EVENT_PROPERTY } from \".\";\nconst OVERWRITE_PROPERTY = \"rcbNativeEventListener\";\n/**\n * Overwrite `window.addEventListener('load')` as they can not be triggered by our script blocker.\n * This can also be used for other known events.\n */\n\nfunction applyNativeEventListenerInitiator(element, eventName, {\n  onBeforeExecute\n} = {\n  onBeforeExecute: undefined\n}) {\n  const overwriteProp = \"\".concat(OVERWRITE_PROPERTY, \"_\").concat(eventName);\n  const memorizeProp = \"\".concat(MEMORIZE_NATIVE_EVENT_PROPERTY, \"_\").concat(eventName); // Only overwrite once\n\n  if (element[overwriteProp]) {\n    return;\n  }\n\n  const {\n    addEventListener\n  } = element;\n  Object.assign(element, {\n    [overwriteProp]: true,\n    addEventListener: function (type, ...rest) {\n      if (type === eventName) {\n        // Redirect to own thread to avoid variable order lacks (e. g. Uncode Gmaps Integration, Contact Form 7\n        const executeHandle = () => setTimeout(() => {\n          var _rest$;\n\n          onBeforeExecute === null || onBeforeExecute === void 0 ? void 0 : onBeforeExecute();\n          (_rest$ = rest[0]) === null || _rest$ === void 0 ? void 0 : _rest$.call(rest, new Event(eventName, {\n            bubbles: true,\n            cancelable: true\n          }));\n        }, 0);\n\n        if (isCurrentlyInTransaction()) {\n          const memorizeExecutionPromise = element[memorizeProp];\n          let executed = false;\n          document.addEventListener(OPT_IN_CONTENT_BLOCKER_ALL, () => {\n            // IE does not support the `once` option\n            if (executed) {\n              return;\n            }\n\n            executed = true;\n\n            if (memorizeExecutionPromise) {\n              memorizeExecutionPromise.then(executeHandle);\n            } else {\n              executeHandle();\n            }\n          });\n        } else {\n          executeHandle();\n        }\n      } else {\n        addEventListener.apply(this, [type, ...rest]);\n      }\n    }\n  });\n}\n\nexport { applyNativeEventListenerInitiator };","const MEMORIZE_NATIVE_EVENT_PROPERTY = \"rcbNativeEventListenerMemorize\";\n/**\n * We listen to the passed event and once that event got triggered, all event registrations\n * afterwards are automatically executed, too. This does not need another trigger again.\n *\n * You need to call this function as early as possible to catch all triggers.\n */\n\nfunction memorizeNativeEvent(element, eventName) {\n  const memorizeProp = \"\".concat(MEMORIZE_NATIVE_EVENT_PROPERTY, \"_\").concat(eventName);\n  Object.assign(element, {\n    [memorizeProp]: new Promise(resolve => element.addEventListener(eventName, resolve))\n  });\n}\n\nexport { memorizeNativeEvent, MEMORIZE_NATIVE_EVENT_PROPERTY };","import { WINDOW_ONLOAD_UNBLOCK_REPLACEMENT } from \"..\";\nlet overwritten = false;\n/**\n * Overwrite `window.rcbInitiatorOnload =` assignemnts so they get immediatly executed.\n * At the time of consent the window is definitely loaded.\n */\n\nfunction applyWindowOnloadInitiator(doc) {\n  // Only overwrite once\n  if (overwritten) {\n    return;\n  }\n\n  const w = doc.defaultView || doc.parentWindow;\n\n  try {\n    Object.defineProperty(w, WINDOW_ONLOAD_UNBLOCK_REPLACEMENT, {\n      set: function (newValue) {\n        if (typeof newValue === \"function\") {\n          newValue();\n        }\n      },\n      enumerable: true,\n      configurable: true\n    });\n  } catch (e) {// Silence is golden\n  }\n\n  overwritten = true;\n}\n\nexport { applyWindowOnloadInitiator };","import { HTML_ATTRIBUTE_BLOCKER_ID, HTML_ATTRIBUTE_INLINE } from \".\";\nconst SCRIPTS_SELECTOR = \"script[src]:not([async]):not([defer]):not([\".concat(HTML_ATTRIBUTE_BLOCKER_ID, \"]):not([\").concat(HTML_ATTRIBUTE_INLINE, \"])\");\n/**\n * Create this instance at the time before adding content or scripts to your DOM,\n * and call the `.wait` function after adding content or scripts to your DOM.\n */\n\nclass WaitSynchronousScripts {\n  constructor() {\n    this.scriptsBefore = void 0;\n    this.scriptsBefore = Array.prototype.slice.call(document.querySelectorAll(SCRIPTS_SELECTOR));\n  }\n  /**\n   * Returns the diff of scripts as Promises and are resolved when script is loaded.\n   */\n\n\n  diff() {\n    const scriptsAfter = Array.prototype.slice.call(document.querySelectorAll(SCRIPTS_SELECTOR));\n    const scriptsDiff = scriptsAfter.filter(a => this.scriptsBefore.indexOf(a) === -1);\n    const promises = scriptsDiff.map(script => new Promise(resolve => {\n      // Check if the script is already loaded or in browser queue (https://stackoverflow.com/a/67184038/5506547)\n      const performanceEntries = performance.getEntriesByType(\"resource\").filter(({\n        name\n      }) => name === script.src); // `getEntriesByName` is not available in all browsers\n\n      if (performanceEntries.length > 0) {\n        resolve();\n      }\n\n      script.addEventListener(\"load\", () => {\n        resolve();\n      });\n      script.addEventListener(\"error\", () => {\n        // At the moment, we just ignore errors\n        resolve();\n      });\n    }));\n    return promises;\n  }\n\n}\n\nexport { WaitSynchronousScripts };","import { putHtmlCodeToDom, HTML_ATTRIBUTE_TRANSFORM_WRAPPER, HTML_ATTRIBUTE_TRANSFORM_WRAPPER_VALUE } from \".\";\n/**\n * We do need to create a `span` for postscribe cause the <script> tag can not be used in this case.\n *\n * @param html The `script` tag HTML (can be inline or with `src`)\n */\n\nfunction ensureScriptWrapper(html, node) {\n  // Check if there is already a wrapper known\n  const previousElementSibling = node.previousElementSibling; // Got the element already be moved by another script? So we just ignore as this\n  // is currently an edge-case (e.g. Podigee Podcast Player).\n\n  if (!node.parentElement) {\n    return Promise.resolve();\n  }\n\n  let referenceNode;\n\n  if (previousElementSibling !== null && previousElementSibling !== void 0 && previousElementSibling.hasAttribute(HTML_ATTRIBUTE_TRANSFORM_WRAPPER)) {\n    referenceNode = previousElementSibling;\n  } else {\n    referenceNode = document.createElement(\"div\"); // we need to have a `block`ing element\n\n    referenceNode.setAttribute(HTML_ATTRIBUTE_TRANSFORM_WRAPPER, HTML_ATTRIBUTE_TRANSFORM_WRAPPER_VALUE);\n    node.parentElement.replaceChild(referenceNode, node);\n  }\n\n  return putHtmlCodeToDom(html, {}, referenceNode);\n}\n\nexport { ensureScriptWrapper };","import { ensureScriptWrapper, HTML_ATTRIBUTE_CAPTURE_PREFIX, HTML_ATTRIBUTE_CAPTURE_CLICK_PREFIX, HTML_ATTRIBUTE_CAPTURE_SUFFIX, HTML_ATTRIBUTE_BLOCKER_CONNECTED } from \".\";\nimport { OPT_IN_CONTENT_BLOCKER_ALL } from \"../events\";\nimport { dispatchResizeEvent } from \"../utils\";\nimport { findVisualParent } from \"../visual\";\nlet tagTransformationCounter = 0;\nconst HTML_TAG_TRANSFORMATION_COUNTER = \"consent-tag-transformation-counter\";\n/**\n * Transform e. g. `consent-original-href` to `href` of a given node.\n */\n\nfunction transformToOriginalAttribute({\n  node,\n  allowClickOverrides,\n  onlyModifyAttributes,\n  setVisualParentIfClassOfParent,\n  overwriteAttributeValue\n}) {\n  return new Promise(resolve => {\n    let performedClick = false; // Scripts need to be handled differently cause we want to use `postscribe` and should not be attached\n    // to the DOM -> not be executed\n\n    const tagName = node.tagName.toLowerCase();\n    const isScript = tagName === \"script\";\n    let workWithNode = isScript && !onlyModifyAttributes ? node.cloneNode(true) : node; // Do the transformation from \"blocked\" state to \"unblocked\"\n\n    for (const attribute of workWithNode.getAttributeNames()) {\n      if (attribute.startsWith(HTML_ATTRIBUTE_CAPTURE_PREFIX) && attribute.endsWith(HTML_ATTRIBUTE_CAPTURE_SUFFIX)) {\n        var _workWithNode$getAttr;\n\n        let originalAttribute = attribute.substr(HTML_ATTRIBUTE_CAPTURE_PREFIX.length + 1);\n        originalAttribute = originalAttribute.slice(0, (HTML_ATTRIBUTE_CAPTURE_SUFFIX.length + 1) * -1); // Check if `allowClickOverride` is given and then the `consent-click-original` attribute may be used, if given\n\n        const overwriteClickAttribute = \"\".concat(HTML_ATTRIBUTE_CAPTURE_CLICK_PREFIX, \"-\").concat(originalAttribute, \"-\").concat(HTML_ATTRIBUTE_CAPTURE_SUFFIX);\n        const hasOverwriteClickAttribute = workWithNode.hasAttribute(overwriteClickAttribute) && allowClickOverrides;\n        let value = workWithNode.getAttribute(hasOverwriteClickAttribute ? overwriteClickAttribute : attribute);\n\n        if (hasOverwriteClickAttribute) {\n          performedClick = true;\n        }\n\n        if (overwriteAttributeValue) {\n          value = overwriteAttributeValue(value, originalAttribute);\n        } // Finally, set the valid values\n\n\n        workWithNode.setAttribute(originalAttribute, value);\n        workWithNode.removeAttribute(attribute);\n        workWithNode.removeAttribute(overwriteClickAttribute); // Automatically delegate a `click` event\n\n        if (allowClickOverrides && [\"a\"].indexOf(tagName) > -1 && ([\"onclick\"].indexOf(originalAttribute.toLowerCase()) > -1 || (_workWithNode$getAttr = workWithNode.getAttribute(\"href\")) !== null && _workWithNode$getAttr !== void 0 && _workWithNode$getAttr.startsWith(\"#\"))) {\n          workWithNode.addEventListener(OPT_IN_CONTENT_BLOCKER_ALL, async ({\n            detail: {\n              unblockedNodes\n            }\n          }) => unblockedNodes.forEach(() => {\n            workWithNode.click();\n            dispatchResizeEvent(workWithNode);\n          }));\n        }\n      }\n    } // Are there any non-transformed clicked attributes? E.g. only add an attribute when it got clicked (without original attribute)\n\n\n    for (const attribute of workWithNode.getAttributeNames()) {\n      if (attribute.startsWith(HTML_ATTRIBUTE_CAPTURE_CLICK_PREFIX) && attribute.endsWith(HTML_ATTRIBUTE_CAPTURE_SUFFIX)) {\n        const value = workWithNode.getAttribute(attribute);\n        let originalAttribute = attribute.substr(HTML_ATTRIBUTE_CAPTURE_CLICK_PREFIX.length + 1);\n        originalAttribute = originalAttribute.slice(0, (HTML_ATTRIBUTE_CAPTURE_SUFFIX.length + 1) * -1); // Finally, set the valid values\n\n        if (allowClickOverrides) {\n          workWithNode.setAttribute(originalAttribute, value);\n          performedClick = true;\n        }\n\n        workWithNode.removeAttribute(attribute);\n      }\n    }\n\n    const result = {\n      performedClick,\n      workWithNode: node\n    };\n\n    if (onlyModifyAttributes) {\n      result.performedClick = false;\n      resolve(result);\n      return;\n    } // Allow transition of custom element tags (web components).\n    // See also https://html.spec.whatwg.org/multipage/custom-elements.html#custom-elements-customized-builtin-example)\n\n\n    if (tagName.startsWith(\"consent-\") && customElements) {\n      const originalTag = tagName.substring(8);\n      workWithNode.outerHTML = workWithNode.outerHTML.replace(/^<consent-[^\\s]+/m, \"<\".concat(originalTag, \" \").concat(HTML_TAG_TRANSFORMATION_COUNTER, \"=\\\"\").concat(tagTransformationCounter, \"\\\"\")).replace(/<\\/consent-[^\\s]+>$/m, \"</\".concat(originalTag, \">\"));\n      workWithNode = document.querySelector(\"[\".concat(HTML_TAG_TRANSFORMATION_COUNTER, \"=\\\"\").concat(tagTransformationCounter, \"\\\"]\"));\n      tagTransformationCounter++;\n      result.workWithNode = workWithNode;\n    }\n\n    workWithNode.style.removeProperty(\"display\"); // Also make the parent visual visible again\n\n    const [visualParent] = findVisualParent(node, setVisualParentIfClassOfParent || {});\n\n    if (visualParent !== node || visualParent !== null && visualParent !== void 0 && visualParent.hasAttribute(HTML_ATTRIBUTE_BLOCKER_CONNECTED)) {\n      visualParent.style.removeProperty(\"display\");\n    }\n\n    if (!isScript) {\n      resolve(result);\n    } else {\n      const {\n        outerHTML\n      } = workWithNode;\n      ensureScriptWrapper(outerHTML, node).then(() => resolve(result));\n    }\n  });\n}\n\nexport { transformToOriginalAttribute };","import { putHtmlCodeToDom, ensureScriptWrapper, HTML_ATTRIBUTE_INLINE, HTML_TAG_CONSENT_SCRIPT, HTML_ATTRIBUTE_CAPTURE_PREFIX, HTML_ATTRIBUTE_CAPTURE_SUFFIX } from \".\";\n/**\n * Put an prepared inline script (tag containing a `consent-inline` attribute) to the DOM.\n */\n\nfunction putScriptInlineToDom(node) {\n  const isInHead = node.parentElement === document.head; // Get the inline script itself\n\n  const inlineScript = node.getAttribute(HTML_ATTRIBUTE_INLINE);\n  node.removeAttribute(HTML_ATTRIBUTE_INLINE); // Sometimes, the inline scripts writes new content via `document.write` and we need to make this visible\n\n  node.style.removeProperty(\"display\"); // Transform the tag to the `script`\n  // We need to make such a hacky way because regex does not work and `outerHTML` has also some issues...\n\n  let inlineScriptHtml = node.outerHTML.substr(HTML_TAG_CONSENT_SCRIPT.length + 1);\n  inlineScriptHtml = inlineScriptHtml.substr(0, inlineScriptHtml.length - HTML_TAG_CONSENT_SCRIPT.length - 3);\n  inlineScriptHtml = inlineScriptHtml.replace(new RegExp(\"type=\\\"application/consent\\\"\"), \"\");\n  inlineScriptHtml = inlineScriptHtml.replace(new RegExp(\"\".concat(HTML_ATTRIBUTE_CAPTURE_PREFIX, \"-type-\").concat(HTML_ATTRIBUTE_CAPTURE_SUFFIX, \"=\\\"([^\\\"]+)\\\"\")), \"type=\\\"$1\\\"\");\n  inlineScriptHtml = \"<script\".concat(inlineScriptHtml).concat(inlineScript, \"</script>\");\n  return isInHead ? putHtmlCodeToDom(inlineScriptHtml, {}) : ensureScriptWrapper(inlineScriptHtml, node);\n}\n\nexport { putScriptInlineToDom };","import { HTML_ATTRIBUTE_COOKIE_IDS } from \".\";\nimport { OPT_IN_CONTENT_BLOCKER_ALL } from \"..\";\nimport { dispatchResizeEvent } from \"../utils\";\n\n/**\n * Listen to clicked content blockers and automatically delegate the click\n * event to the underlying element. This is especially useful for overlays of videos\n * so the user does not need to click twice.\n */\nfunction delegateClick(element, {\n  same,\n  nextSibling,\n  parentNextSibling\n}) {\n  // Save found result\n  let delegateClick;\n  let hide;\n  const nextElementSibling = element.nextElementSibling;\n  const parentElement = element.parentElement;\n  const parentElementNextSibling = parentElement === null || parentElement === void 0 ? void 0 : parentElement.nextElementSibling;\n\n  loop1: for (const [node, delegateClickElements] of [[// Same element (= the blocked element)\n  element, same], [// Next sibling element to the blocked content\n  nextElementSibling, nextSibling], [// Next sibling element of parent of the blocked content\n  parentElementNextSibling, parentNextSibling]]) {\n    if (node && delegateClickElements) {\n      for (const delegateClickElement of delegateClickElements) {\n        const selector = typeof delegateClickElement === \"string\" ? delegateClickElement : delegateClickElement.selector;\n\n        if (typeof delegateClickElement !== \"string\") {\n          hide = delegateClickElement.hide || false;\n        }\n\n        if (node.matches(selector)) {\n          delegateClick = node;\n          break loop1;\n        } // Check for children selector\n\n\n        const childrenSelected = node.querySelector(selector);\n\n        if (childrenSelected) {\n          delegateClick = childrenSelected;\n          break loop1;\n        }\n      }\n    }\n  } // We delegate the click to an element, let's check if it is also blocked and listen to unblock\n\n\n  if (delegateClick) {\n    const fn = () => setTimeout(() => {\n      delegateClick.click();\n\n      if (hide) {\n        delegateClick.style.setProperty(\"display\", \"none\", \"important\");\n      }\n\n      dispatchResizeEvent(element);\n    },\n    /* Let's delay so we can start after `manipulateDom#customTriggers()` */\n    100);\n\n    if (delegateClick.hasAttribute(HTML_ATTRIBUTE_COOKIE_IDS)) {\n      delegateClick.addEventListener(OPT_IN_CONTENT_BLOCKER_ALL, fn, {\n        once: true\n      });\n    } else {\n      fn();\n    }\n  }\n}\n\nexport { delegateClick };","import { detectLastClicked, WaitSynchronousScripts, setCurrentlyInTransaction, createVisual, probablyResetParentContainerForVisual, putScriptInlineToDom, findBlockedNodes, transformInlineStyleRules, transformToOriginalAttribute, HTML_ATTRIBUTE_BLOCKER_ID, HTML_ATTRIBUTE_COOKIE_IDS, HTML_ATTRIBUTE_BLOCKER_CONNECTED, HTML_ATTRIBUTE_INLINE, HTML_ATTRIBUTE_UNBLOCKED_TRANSACTION_COMPLETE, HTML_ATTRIBUTE_RESET_PARENT_IS_RATIO_CONTAINER, OPT_IN_CONTENT_BLOCKER_ALL, applyJQueryReadyInitiator, applyJQueryEventInitiator, applyNativeEventListenerInitiator, applyWindowOnloadInitiator, setLastClickedConnectedCounter, OPT_IN_CONTENT_BLOCKER, loadVideoSource, delegateClick, dispatchResizeEvent, isElementInViewport } from \"..\";\n\nconst findAndUnblockModeOnlyStandaloneTags = ({\n  node\n}) => [\"iframe\", \"img\", \"picture\", \"video\", \"source\", \"audio\"].indexOf(node.tagName.toLowerCase()) === -1;\n/**\n * Refresh the DOM content depending on acceptance. It covers the following things:\n *\n * - Get all available blocked content\n * - Unblock blocked content depending on acceptance\n * - All other blocked content gets a visual content-blocker (if possible)\n */\n\n\nasync function findAndUnblock({\n  checker,\n  visual,\n  overwriteAttributeValue,\n  transactionClosed,\n  priorityUnblocked,\n  customInitiators,\n  delegateClick: delegateClickSelectors,\n  mode\n}) {\n  setCurrentlyInTransaction(true);\n  const nodes = findBlockedNodes(checker);\n  transformInlineStyleRules(checker); // A collection of all unblocked content for this \"transaction\"; so we can keep track a batch\n  // of unblocked items to keep dependencies intact (e.g. Custom script is blocked and needs Google Maps\n  // API do be available).\n\n  const unblockedNodes = [];\n  let foundAnyLastClicked;\n\n  const unmount = element => {\n    var _visual$unmount;\n\n    visual === null || visual === void 0 ? void 0 : (_visual$unmount = visual.unmount) === null || _visual$unmount === void 0 ? void 0 : _visual$unmount.call(visual, element);\n    probablyResetParentContainerForVisual(element, false);\n    element.remove();\n  }; // In some cases, through custom event triggers and unblocked scripts, HTML elements could be \"recreated\" in our DOM\n  // without our changes to mark the DOM node as \"complete\". Lets find those nodes and mark them correctly.\n\n\n  document.querySelectorAll(\"[\".concat(HTML_ATTRIBUTE_BLOCKER_ID, \"]:not(.rcb-content-blocker):not([\").concat(HTML_ATTRIBUTE_COOKIE_IDS, \"]):not([\").concat(HTML_ATTRIBUTE_UNBLOCKED_TRANSACTION_COMPLETE, \"])\")).forEach(n => n.setAttribute(HTML_ATTRIBUTE_UNBLOCKED_TRANSACTION_COMPLETE, \"1\")); // Reset all calculated and memorized results of ratio container as the CSS styles could be changed again (`probablyResetParentContainerForVisual`)\n\n  document.querySelectorAll(\"[\".concat(HTML_ATTRIBUTE_RESET_PARENT_IS_RATIO_CONTAINER, \"]\")).forEach(n => n.removeAttribute(HTML_ATTRIBUTE_RESET_PARENT_IS_RATIO_CONTAINER));\n  let previousPriority;\n\n  for (const row of nodes) {\n    const {\n      consent,\n      node,\n      isVisualCb,\n      blocker,\n      priority\n    } = row;\n\n    const createThisVisual = () => createVisual({\n      node: row.node,\n      blocker: row.blocker,\n      ...visual\n    });\n\n    if (consent) {\n      if (mode !== \"unblock\") {\n        if (visual && typeof mode === \"function\") {\n          if (mode(row)) {\n            if (isVisualCb) {\n              var _visual$busy;\n\n              (_visual$busy = visual.busy) === null || _visual$busy === void 0 ? void 0 : _visual$busy.call(visual, node);\n              continue;\n            } else {\n              const busyContainer = createThisVisual();\n\n              if (busyContainer) {\n                var _visual$busy2;\n\n                (_visual$busy2 = visual.busy) === null || _visual$busy2 === void 0 ? void 0 : _visual$busy2.call(visual, busyContainer);\n              }\n\n              continue;\n            }\n          }\n        } else if (visual && isVisualCb && mode === \"skip\") {\n          var _visual$busy3;\n\n          (_visual$busy3 = visual.busy) === null || _visual$busy3 === void 0 ? void 0 : _visual$busy3.call(visual, node);\n          continue;\n        } else {\n          continue;\n        }\n      } // Got this node already be handled by another call?\n\n\n      if (!node.hasAttribute(HTML_ATTRIBUTE_COOKIE_IDS)) {\n        continue;\n      } else if (isVisualCb) {\n        unmount(node);\n        continue;\n      } // Allows to execute custom code when a given priority got completed\n\n\n      if (previousPriority !== undefined && previousPriority !== priority) {\n        priorityUnblocked === null || priorityUnblocked === void 0 ? void 0 : priorityUnblocked(unblockedNodes, previousPriority);\n      }\n\n      previousPriority = priority; // Immediate deactivate nodes for future unblocks\n\n      node.removeAttribute(HTML_ATTRIBUTE_COOKIE_IDS);\n      const connectedBlocker = node.getAttribute(HTML_ATTRIBUTE_BLOCKER_CONNECTED);\n      const isLastClicked = detectLastClicked(node);\n\n      if (isLastClicked) {\n        foundAnyLastClicked = row;\n      } // Remove visual content blocker if not yet removed through above method\n\n\n      if (connectedBlocker) {\n        const contentBlockers = Array.prototype.slice.call(document.querySelectorAll(\".rcb-content-blocker[consent-blocker-connected=\\\"\".concat(connectedBlocker, \"\\\"]\")));\n\n        for (const contentBlocker of contentBlockers) {\n          unmount(contentBlocker);\n        } // Also reset parent containers stylings for nodes which not successfully created\n        // a visual content blocker (e.g. duplicate exists)\n\n\n        probablyResetParentContainerForVisual(node, false);\n      } // Overwrite global listeners so they get immediate executed\n\n\n      const {\n        ownerDocument\n      } = node;\n      const {\n        defaultView\n      } = ownerDocument;\n      applyJQueryReadyInitiator(ownerDocument);\n      applyJQueryEventInitiator(ownerDocument, defaultView, \"load\"); // $(window).load()\n\n      applyJQueryEventInitiator(ownerDocument, ownerDocument, \"ready\"); // $(document).on(\"ready\")\n\n      applyNativeEventListenerInitiator(defaultView, \"load\");\n      applyNativeEventListenerInitiator(ownerDocument, \"DOMContentLoaded\");\n      applyWindowOnloadInitiator(ownerDocument);\n      customInitiators === null || customInitiators === void 0 ? void 0 : customInitiators(ownerDocument, defaultView);\n      const waitSynchronousScripts = new WaitSynchronousScripts(); // Activate node\n\n      const hasInlineAttribute = node.hasAttribute(HTML_ATTRIBUTE_INLINE);\n      const {\n        performedClick,\n        workWithNode\n      } = await transformToOriginalAttribute({\n        node,\n        allowClickOverrides: hasInlineAttribute ? false : isLastClicked,\n        onlyModifyAttributes: hasInlineAttribute,\n        setVisualParentIfClassOfParent: visual === null || visual === void 0 ? void 0 : visual.setVisualParentIfClassOfParent,\n        overwriteAttributeValue\n      });\n\n      if (hasInlineAttribute) {\n        await putScriptInlineToDom(node);\n      } else if (performedClick) {\n        // Avoid auto replays between the same transaction\n        setLastClickedConnectedCounter(undefined);\n      }\n\n      await Promise.all(waitSynchronousScripts.diff()); // Allow to detach and attach again to DOM so e.g. `MutationObservers` can handle the DOM as expected\n\n      if (workWithNode.getAttribute(\"consent-redom\")) {\n        const {\n          parentElement\n        } = workWithNode;\n\n        if (parentElement) {\n          const idx = [...parentElement.children].indexOf(workWithNode);\n          parentElement.removeChild(workWithNode);\n          insertChildAtIndex(parentElement, workWithNode, idx);\n        }\n      }\n\n      workWithNode.dispatchEvent(new CustomEvent(OPT_IN_CONTENT_BLOCKER, {\n        detail: {\n          blocker,\n          gotClicked: isLastClicked\n        }\n      }));\n      document.dispatchEvent(new CustomEvent(OPT_IN_CONTENT_BLOCKER, {\n        detail: {\n          blocker,\n          element: workWithNode,\n          gotClicked: isLastClicked\n        }\n      }));\n\n      if (isLastClicked && delegateClickSelectors) {\n        delegateClick(workWithNode, delegateClickSelectors);\n      }\n\n      unblockedNodes.push({ ...row,\n        node: workWithNode\n      });\n    } else if (visual && !isVisualCb) {\n      createThisVisual();\n    }\n  } // This transaction is \"complete\"\n\n\n  if (unblockedNodes.length) {\n    // Definitely reset now our last clicked counter to avoid double auto plays\n    if (foundAnyLastClicked) {\n      setLastClickedConnectedCounter(undefined);\n    } // Do this before the events below to keep the initiators intact (e.g. jQuery.fn.ready)\n\n\n    setCurrentlyInTransaction(false);\n    document.dispatchEvent(new CustomEvent(OPT_IN_CONTENT_BLOCKER_ALL, {\n      detail: {\n        unblockedNodes\n      }\n    }));\n    unblockedNodes.forEach(({\n      node\n    }) => {\n      node.setAttribute(HTML_ATTRIBUTE_UNBLOCKED_TRANSACTION_COMPLETE, \"1\");\n      node.dispatchEvent(new CustomEvent(OPT_IN_CONTENT_BLOCKER_ALL, {\n        detail: {\n          unblockedNodes\n        }\n      }));\n    }); // The initiators (e.g. jQuery.ready) are all loaded in a new \"thread\" with a `setTimeout`,\n    // but we need to make sure this event is dispatched afterwards.\n\n    setTimeout(() => {\n      transactionClosed === null || transactionClosed === void 0 ? void 0 : transactionClosed(unblockedNodes);\n      loadVideoSource(unblockedNodes);\n      dispatchResizeEvent(); // Scroll to unblocked, clicked element automatically\n\n      if (foundAnyLastClicked && !isElementInViewport(foundAnyLastClicked.node)) {\n        foundAnyLastClicked.node.scrollIntoView({\n          behavior: \"smooth\"\n        });\n      }\n    }, 0);\n  } else {\n    setCurrentlyInTransaction(false);\n  }\n}\n\nfunction insertChildAtIndex(container, child, index) {\n  if (index >= container.children.length) {\n    container.appendChild(child);\n  } else {\n    container.insertBefore(child, container.children[index]);\n  }\n}\n\nexport { findAndUnblock, findAndUnblockModeOnlyStandaloneTags };","import { findAndUnblock } from \".\";\n/**\n * Use this class as main entry for your unblocking mechanism.\n *\n * **Attention:** Please make sure you start the watcher at time where the `document.readyState`\n * is not already `complete`. Why? At this time, we can make sure that our `jQuery.fn.ready` and\n * other initiators works as expected.\n */\n\nclass UnblockWatcher {\n  constructor(options) {\n    this.interval = void 0;\n    this.startTimeout = void 0;\n    this.options = void 0;\n    this.options = options;\n  }\n\n  unblockNow() {\n    return findAndUnblock(this.options);\n  }\n\n  start(mode = \"unblock\") {\n    this.setMode(mode);\n    clearTimeout(this.startTimeout);\n    this.startTimeout = setTimeout(() => {\n      this.unblockNow();\n      clearInterval(this.interval);\n      this.interval = setInterval(this.unblockNow.bind(this), 1000);\n    }, 0);\n  }\n\n  stop() {\n    clearInterval(this.interval);\n  }\n\n  setMode(mode) {\n    this.options.mode = mode;\n  }\n\n}\n\nexport { UnblockWatcher };","import { HTML_ATTRIBUTE_COOKIE_IDS, HTML_ATTRIBUTE_BLOCKER_ID, HTML_ATTRIBUTE_BY, HTML_TAG_CONSENT_SCRIPT } from \"../dom\";\nimport { decideToUnblock } from \".\";\nconst FIND_BLOCKED_NODES_PRIORITY_SCRIPT = 10;\nconst FIND_BLOCKED_NODES_PRIORITY_NON_SCRIPT = 0;\n/**\n * Read all HTML elements and check, if they can be enabled by a consent.\n */\n\nfunction findBlockedNodes(checker) {\n  const result = [];\n  const nodes = Array.prototype.slice.call(document.querySelectorAll(\"[\".concat(HTML_ATTRIBUTE_COOKIE_IDS, \"]\")));\n\n  for (const node of nodes) {\n    const {\n      blocker,\n      consent\n    } = decideToUnblock(node.getAttribute(HTML_ATTRIBUTE_BY), node.getAttribute(HTML_ATTRIBUTE_COOKIE_IDS), +node.getAttribute(HTML_ATTRIBUTE_BLOCKER_ID), checker);\n    const isVisualCb = node.className.indexOf(\"rcb-content-blocker\") > -1;\n    result.push({\n      node,\n      consent,\n      isVisualCb,\n      blocker,\n      priority: node.tagName.toLowerCase() === HTML_TAG_CONSENT_SCRIPT ? FIND_BLOCKED_NODES_PRIORITY_SCRIPT : FIND_BLOCKED_NODES_PRIORITY_NON_SCRIPT\n    });\n  } // Sort blockable nodes by priority, e.g. always execute scripts at the end\n\n\n  result.sort(({\n    priority: a\n  }, {\n    priority: b\n  }) => a - b);\n  return result;\n}\n\nexport { findBlockedNodes, FIND_BLOCKED_NODES_PRIORITY_NON_SCRIPT, FIND_BLOCKED_NODES_PRIORITY_SCRIPT };","/**\n * For a list of unblocked nodes, check if it are a list of `<source`s and load the parent `<video`.\n *\n * @see https://stackoverflow.com/a/18454389/5506547\n */\nfunction loadVideoSource(unblockedNodes) {\n  const foundVideos = unblockedNodes.filter(({\n    node: {\n      nodeName,\n      parentElement\n    }\n  }) => nodeName === \"SOURCE\" && parentElement.nodeName === \"VIDEO\").map(({\n    node: {\n      parentElement\n    }\n  }) => parentElement); // Unique it to avoid multiple load's\n\n  foundVideos.filter((value, index) => foundVideos.indexOf(value) === index).forEach(video => video.load());\n}\n\nexport { loadVideoSource };","const APIS = [\"youtube\", \"vimeo\"];\n/**\n * Overwrite the video API of elementor to make it GDPR compliant. It also implements\n * auto-play mechanism when clicking the content blocker.\n *\n * @see https://github.com/elementor/elementor/pull/12567\n * @see https://git.io/Js1em\n * @see https://git.io/Js1Eu\n */\n\nfunction overwriteElementorVideoApi() {\n  window.addEventListener(\"elementor/frontend/init\", async () => {\n    const {\n      elementorFrontend\n    } = window; // Override Video API's and check for consent\n\n    elementorFrontend.on(\"components:init\", () => {\n      for (const apiName of APIS) {\n        const api = elementorFrontend.utils[apiName];\n\n        if (api) {\n          api.insertAPI = function () {\n            const apiUrl = this.getApiURL();\n            window.consentApi.unblock(apiUrl).then(() => {\n              jQuery(\"body\").append(jQuery(\"<script>\", {\n                src: apiUrl\n              }));\n            });\n            this.setSettings(\"isInserted\", true);\n          };\n        }\n      }\n    });\n  });\n}\n\nexport { overwriteElementorVideoApi };","/* istanbul ignore file: we do not need to care about the entry point file as errors are detected through integration tests (E2E) */\n\n/**\n * Entrypoint for plain website. This file is loaded on all pages.\n */\nimport { ready } from \"@devowl-wp/cookie-consent-web-client\";\nimport { memorizeJQueryEvent, hijackJqueryFn, hijackJqueryEach } from \"@devowl-wp/headless-content-unblocker\";\nimport { overwriteElementorVideoApi, hijackElementorOnInit, listenOptInForContentBlocker } from \"./others\";\nconst hijackJqueryFns = [\"fitVids\", \"mediaelementplayer\", \"prettyPhoto\", \"gMap\", \"wVideo\", \"aviaVideoApi\", \"magnificPopup\"];\nconst hijackQueryEach = [// https://www.famethemes.com/themes/onepress/\n\".onepress-map\", // HivePress\n'div[data-component=\"map\"]', // Sober theme\n\".sober-map\"];\nlistenOptInForContentBlocker();\nhijackJqueryFn(hijackJqueryFns);\nhijackJqueryEach(hijackQueryEach);\noverwriteElementorVideoApi();\nhijackElementorOnInit([{\n  className: \"Video\",\n  optIn: ($element, {\n    gotClicked\n  }) => {\n    if (gotClicked) {\n      const settings = $element.data(\"settings\");\n      settings.autoplay = true;\n      $element.data(\"settings\", settings);\n    }\n  }\n}, {\n  className: \"VideoPlaylistHandler\",\n  // Delay execution to avoid layout trashing (tab content does not get full height for embedded video)\n  delay: 1000\n}]);\nready(() => {\n  // jQuery fn cannot be ready yet, let's wait for DOM ready\n  hijackJqueryFn(hijackJqueryFns);\n  hijackJqueryEach(hijackQueryEach);\n  memorizeJQueryEvent(document, document, \"tve-dash.load\"); // Thrive Leads\n\n  memorizeJQueryEvent(document, document, \"mylisting/single:tab-switched\"); // My Listing theme\n\n  memorizeJQueryEvent(document, document, \"hivepress:init\"); // HivePress\n}, \"interactive\");","import { applyContentBlockRatioCssPlainCss, customUnblockTriggers, getCookieConsentManager } from \"..\";\nimport { getOtherOptionsFromWindow } from \"../../utils\";\nimport { render, unmountComponentAtNode } from \"react-dom\";\nimport { WebsiteBlocker } from \"../../components\";\nimport { applyJQueryEventInitiator, findAndUnblockModeOnlyStandaloneTags, UnblockWatcher } from \"@devowl-wp/headless-content-unblocker\";\nimport { createTcfModelFromCookie, getUserDecision, APPLY_INTERACTIVE_EVENT, OPT_IN_ALL_EVENT, BANNER_PRE_DECISION_SHOW_EVENT, BANNER_PRE_DECISION_SHOW_INTERACTIVE_EVENT, transformTcfSrc } from \"@devowl-wp/cookie-consent-web-client\";\nimport { getSsrPoweredByLink } from \"@devowl-wp/react-cookie-banner\";\n/**\n * Listen to opt-in of all cookies so we can enable the blocked content or\n * create an visual content blocker. It also listens if no / or invalid consent is given.\n */\n\nfunction listenOptInForContentBlocker() {\n  let acceptedCookies = [];\n  const {\n    setVisualParentIfClassOfParent,\n    multilingualSkipHTMLForTag,\n    dependantVisibilityContainers,\n    blocker: allBlocker,\n    tcf,\n    tcfMetadata,\n    userConsentCookieName,\n    pageRequestUuid4\n  } = getOtherOptionsFromWindow();\n  const watcher = new UnblockWatcher({\n    checker: (by, requiredIds, blockerId) => {\n      var _allBlocker$filter;\n\n      const blocker = (_allBlocker$filter = allBlocker.filter(({\n        id\n      }) => id === blockerId)) === null || _allBlocker$filter === void 0 ? void 0 : _allBlocker$filter[0];\n      let consent = true;\n\n      if (by === \"services\") {\n        consent = requiredIds.map(requiredId => {\n          for (const {\n            service: {\n              id\n            }\n          } of acceptedCookies) {\n            if (id === requiredId) {\n              return true;\n            }\n          }\n\n          return false;\n        }).indexOf(false) === -1;\n      }\n\n      if (process.env.IS_TCF === \"1\" && by === \"tcfVendors\") {\n        const tcfData = createTcfModelFromCookie(tcf, tcfMetadata, getCookieConsentManager().getOption(\"tcfCookieName\"));\n\n        if (!tcfData) {\n          // No consent given yet, fallback to our decision (e.g. Country Bypass and GDPR does not apply for TCF)\n          const decision = getUserDecision(userConsentCookieName);\n          consent = decision && getOtherOptionsFromWindow().revisionHash === decision.revision;\n        } else {\n          const {\n            model\n          } = tcfData; // Map vendor IDs to \"has consent\" and detect if all have consent\n\n          consent = requiredIds.map(vendorId => model.vendorConsents.has(vendorId) || model.vendorLegitimateInterests.has(vendorId)).indexOf(false) === -1;\n        }\n      }\n\n      return {\n        consent,\n        blocker\n      };\n    },\n    overwriteAttributeValue: (value, originalAttribute) => {\n      if (process.env.IS_TCF === \"1\" && originalAttribute === \"src\") {\n        const current = createTcfModelFromCookie(tcf, tcfMetadata, getCookieConsentManager().getOption(\"tcfCookieName\"));\n        return transformTcfSrc(value, current === null || current === void 0 ? void 0 : current.tcfStringForVendors, current === null || current === void 0 ? void 0 : current.gvl);\n      }\n\n      return value;\n    },\n    transactionClosed: unblockedNodes => {\n      customUnblockTriggers(unblockedNodes);\n    },\n    visual: {\n      setVisualParentIfClassOfParent,\n      dependantVisibilityContainers,\n      unmount: contentBlocker => {\n        unmountComponentAtNode(contentBlocker);\n      },\n      busy: contentBlocker => {\n        contentBlocker.style.pointerEvents = \"none\";\n        contentBlocker.style.opacity = \"0.4\";\n      },\n      mount: ({\n        container,\n        blocker,\n        onClick,\n        thumbnail,\n        paintMode\n      }) => {\n        // Do not translate this content blocker with an output buffer plugin like TranslatePress or Weglot\n        if (multilingualSkipHTMLForTag) {\n          container.setAttribute(multilingualSkipHTMLForTag, \"1\");\n        }\n\n        const blockerDef = { ...blocker,\n          visualThumbnail: thumbnail || blocker.visualThumbnail\n        };\n        render(h(WebsiteBlocker, {\n          poweredLink: getSsrPoweredByLink(\"\".concat(pageRequestUuid4, \"-powered-by\")),\n          blocker: blockerDef,\n          paintMode: paintMode,\n          setVisualAsLastClickedVisual: onClick\n        }), container);\n      }\n    },\n    customInitiators: (ownerDocument, defaultView) => {\n      // [Plugin comp]: TODO: extract to configuration\n      applyJQueryEventInitiator(ownerDocument, defaultView, \"elementor/frontend/init\");\n      applyJQueryEventInitiator(ownerDocument, defaultView, \"tcb_after_dom_ready\"); // Thrive Architect\n\n      applyJQueryEventInitiator(ownerDocument, ownerDocument, \"mylisting/single:tab-switched\");\n      applyJQueryEventInitiator(ownerDocument, ownerDocument, \"hivepress:init\"); // HivePress\n\n      applyJQueryEventInitiator(ownerDocument, ownerDocument, \"tve-dash.load\", {\n        // Mark requests as already sent as blocked modules in Thrive never gets loaded again\n        onBeforeExecute: () => {\n          const {\n            TVE_Dash\n          } = window;\n          TVE_Dash.ajax_sent = true;\n        }\n      }); // Thrive Leads\n    },\n    delegateClick: {\n      same: [// Ultimate Video (WP Bakery Page Builder)\n      \".ultv-video__play\", // Elementor\n      \".elementor-custom-embed-image-overlay\", // Themify\n      \".tb_video_overlay\", // Premium Addons for Elementor\n      \".premium-video-box-container\", // https://themeforest.net/item/norebro-creative-multipurpose-wordpress-theme/20834703\n      \".norebro-video-module-sc\", // WP Video Lightbox\n      'a[rel=\"wp-video-lightbox\"]', // WP YouTube Lyte\n      '[id^=\"lyte_\"]', // https://github.com/paulirish/lite-youtube-embed\n      \"lite-youtube\", // https://github.com/luwes/lite-vimeo-embed\n      \"lite-vimeo\", // https://avada.theme-fusion.com/design-elements/lightbox-element/\n      \".awb-lightbox\", // Impreza (WP Bakery Page Builder)\n      \".w-video-h\", // https://themenectar.com/salient/\n      \".nectar_video_lightbox\"],\n      nextSibling: [// JetElements for Element\n      \".jet-video__overlay\", // Elementor\n      \".elementor-custom-embed-image-overlay\", // BeaverBuilder PowerPack Videos\n      \".pp-video-image-overlay\"],\n      parentNextSibling: [// Divi Page Builder\n      {\n        selector: \".et_pb_video_overlay\",\n        hide: true\n      }]\n    }\n  });\n  document.addEventListener(APPLY_INTERACTIVE_EVENT, ({\n    detail: {\n      services\n    }\n  }) => {\n    // Ready to mount visuals as known accepted cookies are known\n    acceptedCookies = services;\n    watcher.setMode(findAndUnblockModeOnlyStandaloneTags);\n    watcher.unblockNow();\n  });\n  document.addEventListener(BANNER_PRE_DECISION_SHOW_INTERACTIVE_EVENT, () => {\n    // Ready to mount visuals as cookie banner is visible\n    watcher.setMode(\"skip\");\n    watcher.unblockNow();\n  });\n  document.addEventListener(OPT_IN_ALL_EVENT, ({\n    detail: {\n      services\n    }\n  }) => {\n    acceptedCookies = services;\n    watcher.start();\n  });\n  document.addEventListener(BANNER_PRE_DECISION_SHOW_EVENT, () => {\n    acceptedCookies = [];\n    watcher.start();\n  });\n  applyContentBlockRatioCssPlainCss();\n}\n\nexport { listenOptInForContentBlocker };","import { MEMORIZE_ELEMENTOR_HANDLER_PROPERTY } from \".\";\n/**\n * A content got unblocked, let's run custom triggers on them, for example\n * the Elementor ready hook.\n */\n\nfunction customUnblockTriggers(nodes) {\n  var _theme$initGoogleMap;\n\n  const {\n    elementorFrontend,\n    TCB_Front,\n    jQuery,\n    showGoogleMap,\n    et_pb_init_modules,\n    et_calculate_fullscreen_section_size,\n    tdYoutubePlayers,\n    tdVimeoPlayers,\n    FWP,\n    avadaLightBoxInitializeLightbox,\n    WPO_LazyLoad,\n    mapsMarkerPro,\n    theme,\n    em_maps_load\n  } = window;\n  let foundWpgb = false; // https://www.mapsmarker.com/\n\n  if (mapsMarkerPro) {\n    Object.keys(mapsMarkerPro).forEach(k => mapsMarkerPro[k].main());\n  } // https://ovatheme.com/\n\n\n  theme === null || theme === void 0 ? void 0 : (_theme$initGoogleMap = theme.initGoogleMap) === null || _theme$initGoogleMap === void 0 ? void 0 : _theme$initGoogleMap.call(theme); // https://wordpress.org/plugins/events-manager/\n\n  em_maps_load === null || em_maps_load === void 0 ? void 0 : em_maps_load();\n\n  for (const {\n    node\n  } of nodes) {\n    const {\n      className,\n      id\n    } = node; // Elementor https://git.io/JsXoh\n\n    if (!node.hasAttribute(MEMORIZE_ELEMENTOR_HANDLER_PROPERTY)) {\n      elementorFrontend === null || elementorFrontend === void 0 ? void 0 : elementorFrontend.elementsHandler.runReadyTrigger(node);\n    } // WP Grid Builder\n\n\n    if (id.startsWith(\"wpgb-\") || className.startsWith(\"wpgb-\")) {\n      foundWpgb = true;\n    } // Thrive Visual Editor\n\n\n    if (TCB_Front && jQuery && className.indexOf(\"tcb-yt-bg\") > -1) {\n      const $node = jQuery(node);\n\n      if ($node.is(\":visible\")) {\n        TCB_Front.playBackgroundYoutube($node);\n      }\n    }\n  } // Thrive Architect\n\n\n  TCB_Front === null || TCB_Front === void 0 ? void 0 : TCB_Front.handleIframes(TCB_Front.$body, true); // https://avada.theme-fusion.com/design-elements/lightbox-element/\n\n  avadaLightBoxInitializeLightbox === null || avadaLightBoxInitializeLightbox === void 0 ? void 0 : avadaLightBoxInitializeLightbox(); // FacetWP\n\n  if (FWP) {\n    FWP.loaded = false;\n    FWP.refresh();\n  } // WP Optimize lazyloading\n\n\n  WPO_LazyLoad === null || WPO_LazyLoad === void 0 ? void 0 : WPO_LazyLoad.update(); // https://qodeinteractive.com/wordpress-theme/bridge-creative-multi-purpose-wordpress-theme/\n\n  showGoogleMap === null || showGoogleMap === void 0 ? void 0 : showGoogleMap(); // jQuery plugins\n\n  if (jQuery) {\n    var _jQuery$lazyLoadXT, _jQuery;\n\n    // https://github.com/ressio/lazy-load-xt\n    (_jQuery$lazyLoadXT = (_jQuery = jQuery(window)).lazyLoadXT) === null || _jQuery$lazyLoadXT === void 0 ? void 0 : _jQuery$lazyLoadXT.call(_jQuery); // https://www.checkoutwc.com/documentation/how-to-enable-address-autocomplete/\n\n    jQuery(document.body).trigger(\"cfw_load_google_autocomplete\");\n  } // Divi modules (e.g. Contact Forms and Newsletter signups)\n\n\n  if (et_pb_init_modules) {\n    // We need to reset the resize event listener as it results in an \"resize\" loop:\n    // https://wordpress.org/support/topic/ultimatemember-profile-picture-upload-flickering/page/2/#post-15471580\n    jQuery(window).off(\"resize\", et_calculate_fullscreen_section_size);\n    et_pb_init_modules();\n  } // tagDiv Composer\n\n\n  tdYoutubePlayers === null || tdYoutubePlayers === void 0 ? void 0 : tdYoutubePlayers.init();\n  tdVimeoPlayers === null || tdVimeoPlayers === void 0 ? void 0 : tdVimeoPlayers.init(); // WP Grid Builder (the custom event triggers an AJAX request, so do this only if we unblock a WPGB element)\n\n  try {\n    foundWpgb && window.dispatchEvent(new CustomEvent(\"wpgb.loaded\"));\n  } catch (e) {// Silence is golden.\n  }\n}\n\nexport { customUnblockTriggers };","import { HTML_ATTRIBUTE_BLOCKER_CONNECTED, HTML_ATTRIBUTE_COOKIE_IDS, HTML_ATTRIBUTE_RESET_PARENT, HTML_ATTRIBUTE_RESET_PARENT_VALUE } from \"@devowl-wp/headless-content-unblocker\";\n/**\n * In some cases it is necessary to reset some styles which are not resettable through\n * the `style` attribute. E.g. pseudo-classes like `::before` and `::after`.\n */\n\nfunction applyContentBlockRatioCssPlainCss() {\n  const element = document.createElement(\"style\");\n  element.style.type = \"text/css\";\n  document.getElementsByTagName(\"head\")[0].appendChild(element);\n  const selectorResetParentAttribute = \"\".concat(HTML_ATTRIBUTE_RESET_PARENT, \"=\\\"\").concat(HTML_ATTRIBUTE_RESET_PARENT_VALUE, \"\\\"\");\n  const selectorVisibleContentBlocker = \"[\".concat(HTML_ATTRIBUTE_BLOCKER_CONNECTED, \"][\").concat(HTML_ATTRIBUTE_COOKIE_IDS, \"]\");\n  const selectorContentBlocker = \".rcb-content-blocker\";\n  const rules = [// Completely deactivate ::before pseudo element\n  ...[// Thrive Architect\n  \".thrv_wrapper[\".concat(selectorResetParentAttribute, \"]\")].map(s => \"\".concat(s, \"::before{display:none!important;}\")), // Completely hide element\n  ...[// JetElements for Elementor\n  \".jet-video[\".concat(selectorResetParentAttribute, \"]>.jet-video__overlay\"), // Divi Page Builder\n  \".et_pb_video[\".concat(selectorResetParentAttribute, \"]>.et_pb_video_overlay\"), // legacy\n  \"\".concat(selectorContentBlocker, \"+div+.et_pb_video_overlay\"), // Ultimate Video (WP Bakery Page Builder)\n  \"\".concat(selectorContentBlocker, \"+.ultv-video\"), // Ultimate Addons for Elementor\n  \"\".concat(selectorContentBlocker, \"+.elementor-widget-container\"), // Astra Theme (Gutenberg Block)\n  \".wp-block-embed__wrapper[\".concat(selectorResetParentAttribute, \"]>.ast-oembed-container\"), // WP Grid Builder\n  \"\".concat(selectorContentBlocker, \"+.wpgb-facet\"), // tagDiv Composer\n  \"\".concat(selectorContentBlocker, \"+.td_wrapper_video_playlist\"), // WP YouTube Lyte\n  \"\".concat(selectorContentBlocker, \"+div[class^=\\\"lyte-\\\"]\"), // Elementor video image overlay\n  \".elementor-fit-aspect-ratio[\".concat(selectorResetParentAttribute, \"]>.elementor-custom-embed-image-overlay\"), // WP Bakery Salient theme\n  \"\".concat(selectorContentBlocker, \"+.vc_column-inner\")].map(s => \"\".concat(s, \"{display:none!important;}\")), // Completely disable padding-top\n  ...[// Gutenberg\n  \".wp-block-embed__wrapper[\".concat(selectorResetParentAttribute, \"]::before\"), // WP Bakery\n  \".wpb_video_widget[\".concat(selectorResetParentAttribute, \"] .wpb_video_wrapper\")].map(s => \"\".concat(s, \"{padding-top:0!important;}\")), // Other rules: If you add a similar one, please merge to an array!\n  // Thrive Architect\n  \".tve_responsive_video_container[\".concat(selectorResetParentAttribute, \"]{padding-bottom:0!important;}\"), // Reset absolute positioning\n  ...[// X Pro\n  \".x-frame-inner[\".concat(selectorResetParentAttribute, \"]>div.x-video\"), // Avia Builder\n  \".avia-video[\".concat(selectorResetParentAttribute, \"] .avia-iframe-wrap\")].map(s => \"\".concat(s, \"{position:initial!important;}\")), // Completely disable background\n  ...[// JetElements for Elementor\n  \".jet-video[\".concat(selectorResetParentAttribute, \"]\")].map(s => \"\".concat(s, \"{background:none!important;}\")), // Completely disable border radius for content blocker within a container which can not be handled correctly\n  ...[// Thrive Architect\n  \".tve_responsive_video_container[\".concat(selectorResetParentAttribute, \"]\")].map(s => \"\".concat(s, \" .rcb-content-blocker > div > div > div {border-radius:0!important;}\")), // Completely grow the content blocker in a flex box container\n  ...[// Elementor\n  \".elementor-widget-wrap>\".concat(selectorVisibleContentBlocker)].map(s => \"\".concat(s, \"{flex-grow:1;width:100%;}\"))];\n  element.innerHTML = rules.join(\"\");\n}\n\nexport { applyContentBlockRatioCssPlainCss, HTML_ATTRIBUTE_RESET_PARENT, HTML_ATTRIBUTE_RESET_PARENT_VALUE };"],"names":["OPT_IN_CONTENT_BLOCKER_ALL","ALREADY_OVERWRITTEN_PROPERTY","hijackJqueryFn","fns","$","window","jQuery","fn","jQueryFns","originalFunction","alreadyOverwritten","indexOf","push","staticProps","Object","getOwnPropertyDescriptors","length","name","prototype","args","this","notBlockedElements","element","get","blockedElements","Array","slice","call","querySelectorAll","concat","getAttribute","Promise","all","map","node","resolve","addEventListener","then","apply","defineProperties","hijackJqueryEach","selectors","each","array","callback","index","HTMLElement","hasAttribute","matches","join","MEMORIZE_JQUERY_EVENT_PROPERTY","memorizeJQueryEvent","doc","eventName","memorizeProp","defaultView","parentWindow","event","Event","assign","on","MEMORIZE_ELEMENTOR_HANDLER_PROPERTY","overwrite","delay","optIn","optInAll","onInit","already","$element","attr","detail","setTimeout","BlockerContentInlineStyles","static","layout","type","dialogBorderRadius","design","borderWidth","borderColor","textAlign","fontColor","fontInheritFamily","fontFamily","customCss","antiAdBlocker","blocker","visualType","hasBg","style","undefined","color","borderRadius","border","position","padding","overflow","className","visualThumbnail","visualBlur","top","left","right","bottom","display","filter","background","url","backgroundSize","boxShadow","BlockerHeaderInlineStyles","restDesign","headerDesign","inheritBg","bg","p","borderTop","borderLeft","borderRight","inheritTextAlign","restHeaderDesign","useTextAlign","margin","justifyContent","alignItems","height","BlockerHeader","closeIcon","texts","blockerHeadline","h","headerContainer","header","replace","BlockerBodyInlineStyles","bodyDesign","showFooter","lineHeight","borderBottom","fontSize","descriptionInheritFontSize","descriptionFontSize","individualLayout","descriptionTextAlign","marginBottom","BlockerInlineStyles","BlockerButton","inlineStyle","onClick","children","framed","busyOnClick","isBusy","setIsBusy","handleOnClick","e","isHover","setIsHover","banner","interactionAttr","onMouseEnter","onMouseLeave","decision","acceptAll","acceptAllFontSize","acceptAllBg","acceptAllTextAlign","acceptAllBorderColor","acceptAllPadding","acceptAllBorderWidth","acceptAllFontColor","acceptAllHoverBg","acceptAllHoverFontColor","acceptAllHoverBorderColor","common","hoverBg","hoverFontColor","hoverBorderColor","acceptIndividual","acceptIndividualFontSize","acceptIndividualBg","acceptIndividualTextAlign","acceptIndividualBorderColor","acceptIndividualPadding","acceptIndividualBorderWidth","acceptIndividualFontColor","acceptIndividualHoverBg","acceptIndividualHoverFontColor","acceptIndividualHoverBorderColor","zIndex","textDecoration","cursor","backgroundColor","transition","outline","BlockerBody","areCookiesVisible","setCookiesVisible","teachingsSeparatorActive","blockerLoadButton","blockerLinkShowMissing","blockerAcceptInfo","services","consent","groups","onUnblock","productionNotice","i18n","close","missing","allConsentCookies","cookies","values","items","cookie","id","description","teachings","useCommonTeachings","disableDataProcessingInUnsafeCountries","ePrivacyUSA","Boolean","disableListServicesNotice","bodyContainer","body","topSide","dangerouslySetInnerHTML","__html","teaching","key","maxHeight","overflowY","paddingRight","cookieScroll","checked","disabled","bottomSide","BlockerFooterInlineStyles","footerDesign","BlockerFooter","rows","links","render","renderLinks","useCommonFooterLink","putPoweredByLinkInRow","footerContainer","footer","BlockerTextContainer","paintMode","ref","isBackgroundVisible","inViewport","setInViewport","container","current","IntersectionObserver","entries","observer","forEach","isIntersecting","disconnect","observe","useWaitElementInViewport","inner","innerBackground","content","headerSeparator","footerSeparator","Blocker","WebsiteBlocker","poweredLink","setVisualAsLastClickedVisual","customizeValuesBanner","legal","saveButton","group","individualTexts","pageIdToPermalink","consentForwardingExternalHosts","isTcf","isEPrivacyUSA","isAgeNotice","isListServicesNotice","userConsentCookieName","bannerI18n","affiliate","isCurrentlyInTranslationEditorPreview","pageByIdUrl","getOtherOptionsFromWindow","userDecision","getUserDecision","overwriteDesign","contextValue","ageNotice","listServicesNotice","keepVariablesInTexts","async","essentialGroup","tcf","tcfMetadata","blockerId","currentDecision","essentialGroupObj","slug","newConsent","groupId","cookieId","_newConsent$groups$gr","applyConsent","buttonClicked","blockerThumbnail","embedId","fileMd5","tcfString","adjustConsentComingFromContentBlocker","usePlainCss","BlockerContext","Provider","value","currentlyInTransaction","setCurrentlyInTransaction","state","isCurrentlyInTransaction","decideToUnblock","by","requiredIds","checker","split","Number","putStyleInlineToDom","removeAttribute","inlineStyleHtml","outerHTML","substr","RegExp","parentElement","replaceChild","DOMParser","parseFromString","querySelector","transformInlineStyle","noConsentCount","m","urlPrefix","maskedUrl","requiredString","base64EncodedUrl","htmlDecode","atob","calculateScore","rule","stackSize","property","specificity","selectorText","_rule$style","getPropertyPriority","priorityByRule","selector","iterateRules","rules","scoresPool","ruleIdx","CSSStyleRule","matchingSelector","resolveNoneComputedStyle","scores","styleSheets","document","styleSheetIdx","styleSheet","cssRules","iterateStylesheets","inline","String","match","calculateInlineScore","sort","a","b","sortScores","resolveScorePool","KNOWN_RATIO_CLASSES","RESET_STYLE_IMPORTANT","RESET_STYLE","width","MEMORIZE_OLD_STYLE","isPotentialVisualWithinResponsiveContainer","parentComputedStyle","getComputedStyle","test","nodePosition","parentPosition","paddingTop","probablyResetParentContainerForVisual","contentBlocker","_parentElement$parent","iterateParents","parent","foundRatioClass","c","isRatioContainer","setAttribute","previouslyStrictHidden","setProperty","isElementInViewport","el","partial","getBoundingClientRect","innerWidth","innerHeight","horInView","clientHeight","clientWidth","documentElement","CHILDREN_SELECTOR_PREFIX","findVisualParent","setVisualParentIfClassOfParent","useVisualParent","tagName","toLowerCase","def","isNaN","i","startsWith","elem","getPreviousVisibleElement","rateAsVisible","previousVisible","result","previousElementSibling","prevAll","offsetParent","isHtmlNodeContentBlocker","mapIgnoreInvisibleAndUsePreviousVisible","lastClickedConnectedCounter","connectedCounterPreserve","createVisual","dependantVisibilityContainers","mount","_node$style","_document$querySelect","toString","connectedCounter","shouldForceToShowVisual","isVisual","isPositioned","isNotInContent","head","isAlreadyConnected","createBefore","visualParentMode","isVisible","fnStrictHide","getPropertyValue","dependantContainers","parents","foundDuplicate","_node$parentElement","_node$parentElement2","_node$parentElement2$","_secondParentPrevious","firstParentPreviousElementSibling","secondParentPreviousElementSibling","possibleDuplicates","lastElementChild","possibleDuplicate","blockedContentOfPossibleDuplicate","nextElementSibling","findPreviousVisibleDuplicate","thumbnail","createElement","parentNode","insertBefore","JSON","parse","nestedThumbnailNode","createVisualContainer","mountVisualContainer","stopPropagation","setLastClickedConnectedCounter","blockedNode","requestIdleCallback","detectLastClicked","connectedBlocker","consentId","consentBy","isLastClicked","parentGotClicked","overwritten","applyJQueryReadyInitiator","originalFn","ready","executed","applyJQueryEventInitiator","onBeforeExecute","overwriteProp","add","types","handler","data","useTypes","isArray","memorizeExecutionPromise","inTransaction","executeHandle","eventParameters","isRequestedEventName","applyNativeEventListenerInitiator","rest","_rest$","bubbles","cancelable","applyWindowOnloadInitiator","w","defineProperty","set","newValue","enumerable","configurable","SCRIPTS_SELECTOR","WaitSynchronousScripts","constructor","scriptsBefore","diff","script","performance","getEntriesByType","src","ensureScriptWrapper","html","referenceNode","putHtmlCodeToDom","tagTransformationCounter","HTML_TAG_TRANSFORMATION_COUNTER","transformToOriginalAttribute","allowClickOverrides","onlyModifyAttributes","overwriteAttributeValue","performedClick","isScript","workWithNode","cloneNode","attribute","getAttributeNames","endsWith","_workWithNode$getAttr","originalAttribute","overwriteClickAttribute","hasOverwriteClickAttribute","unblockedNodes","click","dispatchResizeEvent","customElements","originalTag","substring","removeProperty","visualParent","putScriptInlineToDom","isInHead","inlineScript","inlineScriptHtml","delegateClick","same","nextSibling","parentNextSibling","hide","parentElementNextSibling","loop1","delegateClickElements","delegateClickElement","childrenSelected","once","findAndUnblockModeOnlyStandaloneTags","UnblockWatcher","options","interval","startTimeout","unblockNow","visual","transactionClosed","priorityUnblocked","customInitiators","delegateClickSelectors","mode","nodes","isVisualCb","priority","findBlockedNodes","isFirstTransition","innerHTML","newInnerHTML","transformInlineStyleRules","foundAnyLastClicked","unmount","_visual$unmount","remove","previousPriority","n","row","createThisVisual","_visual$busy3","busy","_visual$busy","busyContainer","_visual$busy2","contentBlockers","ownerDocument","waitSynchronousScripts","hasInlineAttribute","idx","removeChild","child","appendChild","dispatchEvent","CustomEvent","gotClicked","foundVideos","nodeName","video","load","loadVideoSource","scrollIntoView","behavior","findAndUnblock","start","setMode","clearTimeout","clearInterval","setInterval","bind","stop","APIS","hijackJqueryFns","hijackQueryEach","handlers","acceptedCookies","multilingualSkipHTMLForTag","allBlocker","pageRequestUuid4","watcher","_allBlocker$filter","requiredId","service","_theme$initGoogleMap","elementorFrontend","TCB_Front","showGoogleMap","et_pb_init_modules","et_calculate_fullscreen_section_size","tdYoutubePlayers","tdVimeoPlayers","FWP","avadaLightBoxInitializeLightbox","WPO_LazyLoad","mapsMarkerPro","theme","em_maps_load","foundWpgb","keys","k","main","initGoogleMap","elementsHandler","runReadyTrigger","$node","is","playBackgroundYoutube","_jQuery$lazyLoadXT","_jQuery","handleIframes","$body","loaded","refresh","update","lazyLoadXT","trigger","off","init","customUnblockTriggers","pointerEvents","opacity","blockerDef","getSsrPoweredByLink","TVE_Dash","ajax_sent","getElementsByTagName","selectorResetParentAttribute","selectorVisibleContentBlocker","selectorContentBlocker","s","applyContentBlockRatioCssPlainCss","listenOptInForContentBlocker","apiName","api","utils","insertAPI","apiUrl","getApiURL","consentApi","unblock","append","setSettings","settings","autoplay","originalAddHandler","addHandler","handlerClass"],"sourceRoot":""}